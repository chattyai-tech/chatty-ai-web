{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/giorgikyn/Desktop/Chatty-Comparison/chatty-ai-web/components/interactive-hero/components/views/Analysis.tsx"],"sourcesContent":["'use client'\n\nimport type React from 'react';\nimport { useState, useEffect } from 'react';\nimport {\n    BarChart,\n    Bar,\n    XAxis,\n    YAxis,\n    CartesianGrid,\n    Tooltip,\n    ResponsiveContainer,\n    Cell\n} from 'recharts';\nimport {\n    ChevronDown,\n    ChevronRight,\n    CheckCircle2,\n    Code2,\n    BarChart3,\n    Sparkles,\n    Wand2,\n    Play,\n    RefreshCw,\n    Copy,\n    Check\n} from 'lucide-react';\n\ninterface AnalysisProps {\n    isAutoplay: boolean;\n}\n\nexport const AnalysisView: React.FC<AnalysisProps> = ({ isAutoplay }) => {\n    const [activeTab, setActiveTab] = useState<'answer' | 'sql' | 'chart'>('answer');\n    const [stepsExpanded, setStepsExpanded] = useState(true);\n    const [isOptimized, setIsOptimized] = useState(false);\n    const [isOptimizing, setIsOptimizing] = useState(false);\n    const [isCopied, setIsCopied] = useState(false);\n\n    // Exact colors from Screenshot 8\n    const chartData = [\n        { name: 'Assistant Engineer', value: 55841, fill: '#7c5cfc' }, // Purple\n        { name: 'Engineer', value: 57000, fill: '#5542f6' }, // Blue-ish Purple\n        { name: 'Manager', value: 77723, fill: '#2a85ff' }, // Azure Blue\n        { name: 'Senior Engineer', value: 69782, fill: '#0ea5e9' }, // Cyan\n        { name: 'Senior Staff', value: 79731, fill: '#3b318d' }, // Dark Navy\n        { name: 'Staff', value: 65841, fill: '#e91e63' }, // Pink/Red\n        { name: 'Technique Leader', value: 64000, fill: '#f95700' }, // Orange\n    ];\n\n    // Auto-switch tabs for demo effect\n    useEffect(() => {\n        if (isAutoplay) {\n            const t1 = setTimeout(() => setActiveTab('sql'), 1500);\n            const t2 = setTimeout(() => setActiveTab('chart'), 3500);\n            return () => { clearTimeout(t1); clearTimeout(t2); };\n        } else {\n            setActiveTab('answer');\n        }\n    }, [isAutoplay]);\n\n    const handleOptimize = () => {\n        setIsOptimizing(true);\n        setTimeout(() => {\n            setIsOptimized(true);\n            setIsOptimizing(false);\n        }, 1200);\n    };\n\n    const handleCopy = () => {\n        navigator.clipboard.writeText(isOptimized ? optimizedSQL : originalSQL);\n        setIsCopied(true);\n        setTimeout(() => setIsCopied(false), 2000);\n    };\n\n    const originalSQL = `SELECT\n  t.\"title\",\n  AVG(s.\"salary\") AS \"avg_salary\"\nFROM \"LatestSalaries\" s\nJOIN \"titles\" t ON s.\"emp_no\" = t.\"emp_no\"\nGROUP BY t.\"title\"\nORDER BY avg_salary DESC`;\n\n    const optimizedSQL = `/* Optimized by Chatty AI */\nWITH TitleAvg AS (\n    SELECT \n        t.title,\n        AVG(s.salary) as avg_salary\n    FROM titles t\n    INNER JOIN LatestSalaries s \n        ON t.emp_no = s.emp_no\n    WHERE s.to_date = '9999-01-01'\n    GROUP BY t.title\n)\nSELECT * FROM TitleAvg\nORDER BY avg_salary DESC;`;\n\n    return (\n        <div className=\"w-full space-y-4 animate-fade-in font-sans\">\n\n            {/* Thinking / Process Steps (Collapsible) */}\n            <div className=\"border border-[var(--border-primary)] rounded-lg bg-[var(--bg-card)] overflow-hidden shadow-sm\">\n                <button\n                    type=\"button\"\n                    onClick={() => setStepsExpanded(!stepsExpanded)}\n                    className=\"w-full flex items-center justify-between px-3 py-2 bg-[var(--bg-elevated)] hover:bg-[var(--bg-hover)] transition-colors\"\n                >\n                    <div className=\"flex items-center gap-2 text-xs font-semibold text-[var(--text-secondary)]\">\n                        <Sparkles size={12} className=\"text-purple-600\" />\n                        <span>Analyzed data</span>\n                    </div>\n                    {stepsExpanded ? <ChevronDown size={14} className=\"text-[var(--text-muted)]\" /> : <ChevronRight size={14} className=\"text-[var(--text-muted)]\" />}\n                </button>\n                {stepsExpanded && (\n                    <div className=\"px-3 pb-3 pt-2 space-y-1 bg-[var(--bg-card)] border-t border-[var(--border-primary)]\">\n                        <div className=\"flex items-center gap-2 text-xs text-[var(--text-muted)]\">\n                            <CheckCircle2 size={12} className=\"text-green-500\" />\n                            <span>Identified tables: salaries, titles</span>\n                        </div>\n                        <div className=\"flex items-center gap-2 text-xs text-[var(--text-muted)]\">\n                            <CheckCircle2 size={12} className=\"text-green-500\" />\n                            <span>Joined on emp_no</span>\n                        </div>\n                        <div className=\"flex items-center gap-2 text-xs text-[var(--text-muted)]\">\n                            <CheckCircle2 size={12} className=\"text-green-500\" />\n                            <span>Calculated averages</span>\n                        </div>\n                    </div>\n                )}\n            </div>\n\n            {/* Answer Text */}\n            <div className=\"text-[15px] text-[var(--text-primary)] leading-relaxed\">\n                To find the average salary for each position, I analyzed the latest salary data. Here are the average salaries for key positions:\n                <ul className=\"list-disc ml-5 mt-2 space-y-1 mb-4\">\n                    <li><span className=\"font-semibold\">Staff:</span> $65,841.37</li>\n                    <li><span className=\"font-semibold\">Manager:</span> $77,723.67</li>\n                    <li><span className=\"font-semibold\">Senior Engineer:</span> $69,782.33</li>\n                    <li><span className=\"font-semibold\">Senior Staff:</span> $79,731.68</li>\n                </ul>\n            </div>\n\n            {/* Artifact Card */}\n            <div className=\"border border-[var(--border-primary)] rounded-xl bg-[var(--bg-card)] shadow-sm overflow-hidden my-2\">\n                {/* Tabs */}\n                <div className=\"flex items-center gap-1 p-1 bg-[var(--bg-elevated)] border-b border-[var(--border-primary)]\">\n                    <button\n                        type=\"button\"\n                        onClick={() => setActiveTab('chart')}\n                        className={`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${activeTab === 'chart' ? 'bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm' : 'text-[var(--text-muted)] hover:bg-[var(--bg-hover)]'}`}\n                    >\n                        <BarChart3 size={14} className=\"text-orange-500\" />\n                        <span className=\"font-bold\">Chart</span>\n                    </button>\n                    <button\n                        type=\"button\"\n                        onClick={() => setActiveTab('sql')}\n                        className={`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${activeTab === 'sql' ? 'bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm' : 'text-[var(--text-muted)] hover:bg-[var(--bg-hover)]'}`}\n                    >\n                        <Code2 size={14} className=\"text-blue-500\" />\n                        <span>SQL Query</span>\n                    </button>\n                    <button\n                        type=\"button\"\n                        onClick={() => setActiveTab('answer')}\n                        className={`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${activeTab === 'answer' ? 'bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm' : 'text-[var(--text-muted)] hover:bg-[var(--bg-hover)]'}`}\n                    >\n                        <CheckCircle2 size={14} className=\"text-green-500\" />\n                        <span className=\"font-bold\">Data Table</span>\n                    </button>\n                </div>\n\n                {/* Content */}\n                <div className=\"p-4 bg-[var(--bg-card)] min-h-[300px]\">\n\n                    {activeTab === 'answer' && (\n                        <div className=\"animate-fade-in\">\n                            <div className=\"border border-[var(--border-primary)] rounded-lg overflow-hidden\">\n                                <table className=\"w-full text-sm\">\n                                    <thead className=\"bg-[var(--bg-elevated)] text-[var(--text-secondary)] border-b border-[var(--border-primary)]\">\n                                        <tr>\n                                            <th className=\"px-3 py-2 text-left font-medium\">Title</th>\n                                            <th className=\"px-3 py-2 text-right font-medium\">Average Salary</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {chartData.slice(0, 5).map((row) => (\n                                            <tr key={row.name} className=\"hover:bg-[var(--bg-elevated)] border-b border-[var(--border-primary)] last:border-0 text-[var(--text-secondary)]\">\n                                                <td className=\"px-3 py-2\">{row.name}</td>\n                                                <td className=\"px-3 py-2 text-right font-mono\">${row.value.toLocaleString()}</td>\n                                            </tr>\n                                        ))}\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                    )}\n\n                    {activeTab === 'sql' && (\n                        <div className=\"animate-fade-in space-y-2\">\n                            <div className=\"flex justify-between items-center mb-1\">\n                                <span className=\"text-xs font-bold text-[var(--text-secondary)]\">Generated SQL</span>\n                                <div className=\"flex gap-2\">\n                                    {isOptimized ? (\n                                        <span className=\"text-[10px] bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 px-2 py-0.5 rounded-full font-medium flex items-center gap-1\">\n                                            <CheckCircle2 size={10} /> Optimized (Execution: 12ms)\n                                        </span>\n                                    ) : (\n                                        <button\n                                            type=\"button\"\n                                            onClick={handleOptimize}\n                                            disabled={isOptimizing}\n                                            className=\"text-xs flex items-center gap-1 text-[var(--text-muted)] hover:text-blue-600 border border-[var(--border-primary)] px-2 py-1 rounded bg-[var(--bg-card)] hover:bg-[var(--bg-elevated)] transition-all\"\n                                        >\n                                            {isOptimizing ? <span className=\"animate-spin\"><RefreshCw size={12} /></span> : <Wand2 size={12} />}\n                                            Optimize Query\n                                        </button>\n                                    )}\n\n                                    <button\n                                        type=\"button\"\n                                        onClick={handleCopy}\n                                        className=\"text-xs flex items-center gap-1 text-[var(--text-muted)] hover:text-blue-600 border border-[var(--border-primary)] px-2 py-1 rounded bg-[var(--bg-card)] hover:bg-[var(--bg-elevated)] transition-all\"\n                                    >\n                                        {isCopied ? <Check size={12} className=\"text-green-600\" /> : <Copy size={12} />}\n                                        {isCopied ? \"Copied\" : \"Copy\"}\n                                    </button>\n\n                                    <button type=\"button\" className=\"text-xs flex items-center gap-1 text-[var(--text-muted)] hover:text-blue-600 border border-[var(--border-primary)] px-2 py-1 rounded bg-[var(--bg-card)] hover:bg-[var(--bg-elevated)] transition-all\">\n                                        <Play size={12} fill=\"currentColor\" /> Run\n                                    </button>\n                                </div>\n                            </div>\n                            <div className={`bg-[var(--bg-elevated)] border rounded-lg p-3 font-mono text-xs overflow-x-auto transition-colors duration-500 ${isOptimized ? 'border-green-200 dark:border-green-800 bg-green-50/30 dark:bg-green-900/20' : 'border-[var(--border-primary)]'}`}>\n                                <pre className={`${isOptimizing ? 'animate-pulse' : ''} text-[var(--text-primary)]`}>{isOptimized ? optimizedSQL : originalSQL}</pre>\n                            </div>\n                        </div>\n                    )}\n\n                    {activeTab === 'chart' && (\n                        <div className=\"w-full h-[300px] animate-fade-in\">\n                            <ResponsiveContainer width=\"100%\" height=\"100%\">\n                                <BarChart data={chartData} margin={{ bottom: 40, top: 10, left: 0, right: 0 }}>\n                                    <CartesianGrid strokeDasharray=\"3 3\" vertical={false} stroke=\"#f1f5f9\" />\n                                    <XAxis\n                                        dataKey=\"name\"\n                                        axisLine={false}\n                                        tickLine={false}\n                                        tick={{ fill: '#64748b', fontSize: 10 }}\n                                        angle={-45}\n                                        textAnchor=\"end\"\n                                        interval={0}\n                                        dy={10}\n                                    />\n                                    <YAxis\n                                        axisLine={false}\n                                        tickLine={false}\n                                        tick={{ fill: '#94a3b8', fontSize: 10 }}\n                                        tickFormatter={(val) => `${val / 1000}k`}\n                                    />\n                                    <Tooltip\n                                        cursor={{ fill: '#f8fafc' }}\n                                        contentStyle={{ borderRadius: '8px', border: 'none', boxShadow: '0 4px 6px -1px rgb(0 0 0 / 0.1)', fontSize: '12px' }}\n                                    />\n                                    <Bar dataKey=\"value\" radius={[4, 4, 0, 0]}>\n                                        {chartData.map((entry) => (\n                                            <Cell key={`cell-${entry.name}`} fill={entry.fill} />\n                                        ))}\n                                    </Bar>\n                                </BarChart>\n                            </ResponsiveContainer>\n                        </div>\n                    )}\n\n                </div>\n            </div>\n\n            <div className=\"text-[15px] text-[var(--text-primary)]\">\n                If you need information on additional positions or a different visualization, just ask!\n            </div>\n        </div>\n    );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 834, "column": 0}, "map": {"version":3,"sources":["file:///Users/giorgikyn/Desktop/Chatty-Comparison/chatty-ai-web/components/interactive-hero/components/views/Dashboard.tsx"],"sourcesContent":["'use client'\n\nimport type React from 'react';\nimport { useEffect, useState, useRef, useCallback } from 'react';\nimport { Paperclip, Mic, ArrowUp } from 'lucide-react';\nimport { AnalysisView } from './Analysis';\nimport { BrandLogo } from '../../../BrandLogo';\n\ninterface DashboardProps {\n    searchQuery: string;\n    isTyping: boolean;\n    showResults: boolean;\n    onSearch: (query: string) => void;\n    isAutoplay: boolean;\n}\n\ninterface Message {\n    id: string;\n    type: 'user' | 'ai';\n    text: string;\n    component?: React.ReactNode;\n}\n\nexport const DashboardView: React.FC<DashboardProps> = ({ searchQuery, isTyping, onSearch, isAutoplay }) => {\n    const [inputValue, setInputValue] = useState(\"\");\n    const [messages, setMessages] = useState<Message[]>([]);\n    const [isLoading, setIsLoading] = useState(false);\n    const messagesEndRef = useRef<HTMLDivElement>(null);\n    const inputRef = useRef<HTMLInputElement>(null);\n    const scrollContainerRef = useRef<HTMLDivElement>(null);\n\n    const handleUserSubmit = useCallback((query: string) => {\n        if (!query.trim()) return;\n\n        // Add User Message\n        const userMsg: Message = { id: Date.now().toString(), type: 'user', text: query };\n        setMessages(prev => [...prev, userMsg]);\n        setInputValue(\"\");\n\n        // Notify parent \n        onSearch(query);\n\n        setIsLoading(true);\n\n        // Simulate Network Delay (Short for demo smoothness)\n        setTimeout(() => {\n            const aiMsg: Message = {\n                id: (Date.now() + 1).toString(),\n                type: 'ai',\n                text: query,\n                component: <AnalysisView isAutoplay={isAutoplay} />\n            };\n            setMessages(prev => [...prev, aiMsg]);\n            setIsLoading(false);\n        }, 1200);\n    }, [onSearch, isAutoplay]);\n\n    // Handle external search query (from Autoplay or Props)\n    useEffect(() => {\n        if (isTyping && searchQuery === \"\") {\n            setInputValue(\"What is the average salary for each position?\");\n        } else if (searchQuery && !isTyping && messages.length === 0) {\n            // Commit the autoplay query\n            handleUserSubmit(searchQuery);\n        }\n    }, [searchQuery, isTyping, messages.length, handleUserSubmit]);\n\n    // Simple typing animation effect when `isTyping` is true\n    useEffect(() => {\n        if (isTyping) {\n            let i = 0;\n            const text = \"What is the average salary for each position?\";\n            setInputValue(\"\");\n            const interval = setInterval(() => {\n                setInputValue(text.slice(0, i + 1));\n                i++;\n                if (i > text.length) clearInterval(interval);\n            }, 50); // Speed of typing\n            return () => clearInterval(interval);\n        }\n    }, [isTyping]);\n\n    // Scroll to bottom - only within the component container\n    useEffect(() => {\n        if (scrollContainerRef.current && messages.length > 0) {\n            const container = scrollContainerRef.current;\n            // Scroll to the bottom of the container only, not the entire page\n            container.scrollTo({\n                top: container.scrollHeight,\n                behavior: 'smooth'\n            });\n        }\n    }, [messages.length]);\n\n    const handleSubmit = (e: React.FormEvent) => {\n        e.preventDefault();\n        // Manual submit always triggers search\n        handleUserSubmit(inputValue);\n    };\n\n    return (\n        <div className=\"h-full flex flex-col relative bg-[var(--bg-card)]\">\n\n            {/* Scrollable Content Area - Refined Padding */}\n            <div ref={scrollContainerRef} className=\"flex-1 overflow-y-auto px-3 sm:px-4 md:px-6 lg:px-8 pb-32 scrollbar-thin scrollbar-thumb-[var(--border-primary)]\">\n\n                {messages.length === 0 ? (\n                    // Empty State (ChatGPT Style) - Refined Design\n                    <div className=\"h-full flex flex-col items-center justify-center py-8 sm:py-12 md:py-16 px-4 animate-fade-in\">\n                        {/* Logo Section - Matching Navbar Style */}\n                        <div className=\"mb-6 sm:mb-8 md:mb-10\">\n                            <BrandLogo size={56} className=\"h-14 sm:h-16 md:h-20 w-auto\" variant=\"hero\" />\n                        </div>\n\n                        {/* Heading */}\n                        <div className=\"text-xl sm:text-2xl md:text-3xl font-semibold text-[var(--text-primary)] mb-2 sm:mb-3 text-center\">\n                            How can I help you today?\n                        </div>\n                        <p className=\"text-sm sm:text-base text-[var(--text-muted)] mb-6 sm:mb-8 md:mb-10 text-center max-w-md\">\n                            Choose a suggestion or type your question below\n                        </p>\n\n                        {/* Suggestion Cards - Refined Grid */}\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 md:gap-5 w-full max-w-2xl\">\n                            {[\n                                { title: 'Analyze Q3 Revenue', sub: 'Compare against last year' },\n                                { title: 'Schema Design', sub: 'Create a user table' },\n                                { title: 'Workflow Automation', sub: 'Setup an email trigger' },\n                                { title: 'Document Summary', sub: 'Summarize backup policy' },\n                            ].map((card) => (\n                                <button\n                                    key={card.title}\n                                    type=\"button\"\n                                    onClick={() => handleUserSubmit(card.title)}\n                                    className=\"text-left p-4 sm:p-5 border border-[var(--border-primary)] rounded-lg hover:border-[var(--border-accent)] hover:bg-[var(--bg-elevated)] hover:shadow-md transition-all duration-200 group active:scale-[0.98]\"\n                                >\n                                    <div className=\"text-sm sm:text-base font-semibold text-[var(--text-primary)] group-hover:text-[var(--accent-violet)] mb-1.5 leading-tight\">\n                                        {card.title}\n                                    </div>\n                                    <div className=\"text-xs sm:text-sm text-[var(--text-muted)] group-hover:text-[var(--text-secondary)] leading-relaxed\">\n                                        {card.sub}\n                                    </div>\n                                </button>\n                            ))}\n                        </div>\n                    </div>\n                ) : (\n                    // Chat Stream\n                    <div className=\"w-full max-w-[800px] mx-auto pt-8 space-y-8\">\n                        {messages.map((msg) => (\n                            <div key={msg.id} className={`flex w-full ${msg.type === 'user' ? 'justify-end' : 'justify-start'} animate-fade-in-up`}>\n                                {msg.type === 'user' ? (\n                                    <div className=\"bg-[var(--bg-elevated)] px-5 py-2.5 rounded-[24px] max-w-[80%] text-[15px] text-[var(--text-primary)] leading-relaxed shadow-sm\">\n                                        {msg.text}\n                                    </div>\n                                ) : (\n                                    <div className=\"flex gap-4 w-full\">\n                                        <div className=\"h-8 w-8 rounded-full bg-[var(--accent-violet)] text-white flex items-center justify-center text-sm font-bold shrink-0 mt-1 shadow-md\">C</div>\n                                        <div className=\"flex-1 overflow-hidden\">\n                                            {/* AI Content Wrapper */}\n                                            <div className=\"prose prose-slate max-w-none text-[15px] leading-relaxed text-[var(--text-primary)]\">\n                                                {msg.component}\n                                            </div>\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n                        ))}\n\n                        {/* Loading Indicator */}\n                        {isLoading && (\n                            <div className=\"flex gap-4 w-full animate-fade-in\">\n                                <div className=\"h-8 w-8 rounded-full bg-[var(--accent-violet)] text-white flex items-center justify-center text-sm font-bold shrink-0 mt-1\">C</div>\n                                <div className=\"flex items-center gap-1 mt-3\">\n                                    <div className=\"w-2 h-2 bg-[var(--accent-violet)] rounded-full animate-bounce\"></div>\n                                    <div className=\"w-2 h-2 bg-[var(--accent-violet)] rounded-full animate-bounce delay-75\"></div>\n                                    <div className=\"w-2 h-2 bg-[var(--accent-violet)] rounded-full animate-bounce delay-150\"></div>\n                                </div>\n                            </div>\n                        )}\n                        <div ref={messagesEndRef} />\n                    </div>\n                )}\n            </div>\n\n            {/* Bottom Input Bar (Floating Capsule) - Refined */}\n            <div className=\"absolute bottom-0 left-0 right-0 p-3 sm:p-4 md:p-5 bg-gradient-to-t from-[var(--bg-card)] via-[var(--bg-card)] to-transparent pt-8 sm:pt-10 md:pt-12\">\n                <div className=\"max-w-3xl mx-auto px-2 sm:px-4\">\n                    <form onSubmit={handleSubmit} className=\"relative bg-[var(--bg-elevated)] rounded-2xl sm:rounded-3xl p-1.5 sm:p-2 md:p-2.5 flex items-center shadow-sm ring-1 ring-[var(--border-primary)]/50 focus-within:ring-2 focus-within:ring-[var(--accent-violet)]/30 transition-all\">\n                        <button\n                            type=\"button\"\n                            className=\"p-2 sm:p-2.5 text-[var(--text-muted)] hover:bg-[var(--bg-hover)] rounded-full transition-colors shrink-0\"\n                            aria-label=\"Attach file\"\n                        >\n                            <Paperclip size={18} className=\"sm:w-5 sm:h-5\" />\n                        </button>\n                        <input\n                            ref={inputRef}\n                            type=\"text\"\n                            value={inputValue}\n                            onChange={(e) => setInputValue(e.target.value)}\n                            placeholder=\"Message Chatty...\"\n                            className=\"flex-1 bg-transparent border-none outline-none text-[var(--text-primary)] placeholder:text-[var(--text-disabled)] h-10 sm:h-12 md:h-14 py-2 sm:py-3 px-2 sm:px-3 text-sm sm:text-base\"\n                        />\n                        <button\n                            type=\"button\"\n                            className=\"p-2 sm:p-2.5 text-[var(--text-muted)] hover:bg-[var(--bg-hover)] rounded-full transition-colors shrink-0\"\n                            aria-label=\"Voice input\"\n                        >\n                            <Mic size={18} className=\"sm:w-5 sm:h-5\" />\n                        </button>\n                        <button\n                            type=\"submit\"\n                            disabled={!inputValue.trim()}\n                            className={`p-2 sm:p-2.5 md:p-3 rounded-full shrink-0 transition-all duration-200 ${inputValue.trim()\n                                    ? 'bg-[var(--accent-violet)] text-white shadow-md hover:bg-[var(--violet-700)]'\n                                    : 'bg-[var(--bg-surface)] text-[var(--text-disabled)] cursor-not-allowed'\n                                }`}\n                            aria-label=\"Send message\"\n                        >\n                            <ArrowUp size={18} className=\"sm:w-5 sm:h-5\" />\n                        </button>\n                    </form>\n                    <div className=\"text-center mt-2 sm:mt-2.5\">\n                        <p className=\"text-[10px] sm:text-xs text-[var(--text-muted)] font-medium\">Chatty AI can make mistakes. Check important info.</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1302, "column": 0}, "map": {"version":3,"sources":["file:///Users/giorgikyn/Desktop/Chatty-Comparison/chatty-ai-web/components/interactive-hero/constants.ts"],"sourcesContent":["import { MockDataPoint, TableNode } from './types';\n\nexport const MOCK_CHART_DATA: MockDataPoint[] = [\n    { name: 'Jul', revenue: 4200, profit: 2400, customers: 120 },\n    { name: 'Aug', revenue: 3800, profit: 2200, customers: 110 },\n    { name: 'Sep', revenue: 6500, profit: 3800, customers: 180 }, // Spike\n    { name: 'Oct', revenue: 4900, profit: 2900, customers: 140 },\n    { name: 'Nov', revenue: 5200, profit: 3100, customers: 150 },\n    { name: 'Dec', revenue: 7800, profit: 4500, customers: 210 },\n];\n\nexport const MOCK_SCHEMA_NODES: TableNode[] = [\n    { id: 't1', name: 'sales_transactions', columns: ['id', 'user_id', 'product_id', 'amount', 'created_at'], x: 50, y: 50 },\n    { id: 't2', name: 'users', columns: ['id', 'email', 'country', 'signup_date'], x: 350, y: 50 },\n    { id: 't3', name: 'products', columns: ['id', 'sku', 'category', 'price'], x: 50, y: 300 },\n    { id: 't4', name: 'inventory', columns: ['product_id', 'warehouse_id', 'stock'], x: 350, y: 300 },\n];\n\nexport const SUGGESTED_QUERIES = [\n    \"Analyze Q3 revenue trends\",\n    \"Show user churn by region\",\n    \"Forecast inventory for Q4\",\n    \"Compare marketing ROI across channels\"\n];\n\n\n\n\n\n\n\n\n\n"],"names":[],"mappings":";;;;;;;;AAEO,MAAM,kBAAmC;IAC5C;QAAE,MAAM;QAAO,SAAS;QAAM,QAAQ;QAAM,WAAW;IAAI;IAC3D;QAAE,MAAM;QAAO,SAAS;QAAM,QAAQ;QAAM,WAAW;IAAI;IAC3D;QAAE,MAAM;QAAO,SAAS;QAAM,QAAQ;QAAM,WAAW;IAAI;IAC3D;QAAE,MAAM;QAAO,SAAS;QAAM,QAAQ;QAAM,WAAW;IAAI;IAC3D;QAAE,MAAM;QAAO,SAAS;QAAM,QAAQ;QAAM,WAAW;IAAI;IAC3D;QAAE,MAAM;QAAO,SAAS;QAAM,QAAQ;QAAM,WAAW;IAAI;CAC9D;AAEM,MAAM,oBAAiC;IAC1C;QAAE,IAAI;QAAM,MAAM;QAAsB,SAAS;YAAC;YAAM;YAAW;YAAc;YAAU;SAAa;QAAE,GAAG;QAAI,GAAG;IAAG;IACvH;QAAE,IAAI;QAAM,MAAM;QAAS,SAAS;YAAC;YAAM;YAAS;YAAW;SAAc;QAAE,GAAG;QAAK,GAAG;IAAG;IAC7F;QAAE,IAAI;QAAM,MAAM;QAAY,SAAS;YAAC;YAAM;YAAO;YAAY;SAAQ;QAAE,GAAG;QAAI,GAAG;IAAI;IACzF;QAAE,IAAI;QAAM,MAAM;QAAa,SAAS;YAAC;YAAc;YAAgB;SAAQ;QAAE,GAAG;QAAK,GAAG;IAAI;CACnG;AAEM,MAAM,oBAAoB;IAC7B;IACA;IACA;IACA;CACH"}},
    {"offset": {"line": 1411, "column": 0}, "map": {"version":3,"sources":["file:///Users/giorgikyn/Desktop/Chatty-Comparison/chatty-ai-web/components/interactive-hero/components/views/Modeling.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { MOCK_SCHEMA_NODES } from '../../constants';\nimport { TableNode } from '../../types';\nimport {\n    Plus,\n    MoreVertical,\n    Box,\n    Search,\n    Minus,\n    ZoomIn,\n    ZoomOut,\n    Move,\n    Copy,\n    Trash2,\n    Edit2,\n    X,\n    Sparkles,\n    Database,\n    Table as TableIcon\n} from 'lucide-react';\n\ninterface ModelingProps {\n    isAutoplay: boolean;\n    onInteract?: () => void;\n}\n\ninterface ContextMenuState {\n    visible: boolean;\n    x: number;\n    y: number;\n    nodeId: string | null;\n}\n\nexport const ModelingView: React.FC<ModelingProps> = ({ isAutoplay, onInteract }) => {\n    // Initialize nodes - If autoplay, start without the Inventory table (t4) to simulate its creation\n    const [nodes, setNodes] = useState<TableNode[]>(() => {\n        if (isAutoplay) {\n            return MOCK_SCHEMA_NODES.filter(n => n.id !== 't4');\n        }\n        return MOCK_SCHEMA_NODES;\n    });\n\n    // Viewport State\n    const [scale, setScale] = useState(1);\n    const [pan, setPan] = useState({ x: 0, y: 0 });\n    const [isPanning, setIsPanning] = useState(false);\n    const [lastMousePos, setLastMousePos] = useState({ x: 0, y: 0 });\n\n    // Drag State\n    const [draggingId, setDraggingId] = useState<string | null>(null);\n    const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\n\n    // Highlight State for Autoplay/Interaction\n    const [highlightedNodeId, setHighlightedNodeId] = useState<string | null>(null);\n\n    // Context Menu\n    const [contextMenu, setContextMenu] = useState<ContextMenuState>({ visible: false, x: 0, y: 0, nodeId: null });\n\n    const containerRef = useRef<HTMLDivElement>(null);\n    const GRID_SIZE = 20;\n\n    // Autoplay Animation Sequence\n    useEffect(() => {\n        if (isAutoplay && !draggingId && !isPanning) {\n            // Step 1: Highlight 'products' table (t3) to show context\n            const t1 = setTimeout(() => {\n                setHighlightedNodeId('t3');\n            }, 800);\n\n            // Step 2: \"AI\" adds the 'inventory' table (t4)\n            const t2 = setTimeout(() => {\n                const inventoryNode = MOCK_SCHEMA_NODES.find(n => n.id === 't4');\n                if (inventoryNode) {\n                    setNodes(prev => {\n                        if (prev.find(n => n.id === 't4')) return prev;\n                        return [...prev, { ...inventoryNode, x: 350, y: 300 }];\n                    });\n                }\n                setHighlightedNodeId('t4'); // Switch highlight to new table\n            }, 2200);\n\n            // Step 3: Clear highlight\n            const t3 = setTimeout(() => {\n                setHighlightedNodeId(null);\n            }, 4000);\n\n            return () => { clearTimeout(t1); clearTimeout(t2); clearTimeout(t3); };\n        } else if (!isAutoplay) {\n            setHighlightedNodeId(null);\n        }\n    }, [isAutoplay, draggingId, isPanning]);\n\n    // Global Mouse Handlers\n    useEffect(() => {\n        const handleMouseMoveWindow = (e: MouseEvent) => {\n            if (draggingId) {\n                if (onInteract) onInteract();\n                // Snap to Grid Logic\n                const rawX = (e.clientX - dragOffset.x) / scale;\n                const rawY = (e.clientY - dragOffset.y) / scale;\n\n                const snappedX = Math.round(rawX / GRID_SIZE) * GRID_SIZE;\n                const snappedY = Math.round(rawY / GRID_SIZE) * GRID_SIZE;\n\n                setNodes(prev => prev.map(n =>\n                    n.id === draggingId\n                        ? { ...n, x: snappedX, y: snappedY }\n                        : n\n                ));\n            } else if (isPanning) {\n                const dx = e.clientX - lastMousePos.x;\n                const dy = e.clientY - lastMousePos.y;\n                setPan(prev => ({ x: prev.x + dx, y: prev.y + dy }));\n                setLastMousePos({ x: e.clientX, y: e.clientY });\n            }\n        };\n\n        const handleMouseUpWindow = () => {\n            setDraggingId(null);\n            setIsPanning(false);\n        };\n\n        if (draggingId || isPanning) {\n            window.addEventListener('mousemove', handleMouseMoveWindow);\n            window.addEventListener('mouseup', handleMouseUpWindow);\n        }\n\n        return () => {\n            window.removeEventListener('mousemove', handleMouseMoveWindow);\n            window.removeEventListener('mouseup', handleMouseUpWindow);\n        };\n    }, [draggingId, isPanning, dragOffset, lastMousePos, scale, onInteract]);\n\n    // -- Handlers --\n\n    const handleNodeMouseDown = (e: React.MouseEvent, id: string, nodeX: number, nodeY: number) => {\n        if (e.button !== 0) return; // Only left click drags\n        if (onInteract) onInteract();\n        e.stopPropagation();\n        setDraggingId(id);\n        setHighlightedNodeId(id); // Highlight on click\n        setContextMenu({ ...contextMenu, visible: false }); // Close menu on interaction\n        setDragOffset({\n            x: e.clientX - (nodeX * scale),\n            y: e.clientY - (nodeY * scale)\n        });\n    };\n\n    const handleNodeContextMenu = (e: React.MouseEvent, id: string) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if (onInteract) onInteract();\n        setContextMenu({\n            visible: true,\n            x: e.clientX,\n            y: e.clientY,\n            nodeId: id\n        });\n    };\n\n    const handleCanvasMouseDown = (e: React.MouseEvent) => {\n        if (e.button !== 0) return;\n        if (onInteract) onInteract();\n        setIsPanning(true);\n        setLastMousePos({ x: e.clientX, y: e.clientY });\n        setContextMenu({ ...contextMenu, visible: false });\n        setHighlightedNodeId(null);\n    };\n\n    const handleAddColumn = (e: React.MouseEvent, nodeId: string) => {\n        e.stopPropagation();\n        if (onInteract) onInteract();\n        setNodes(prev => prev.map(n => {\n            if (n.id === nodeId) {\n                return { ...n, columns: [...n.columns, 'new_field'] };\n            }\n            return n;\n        }));\n    };\n\n    const deleteNode = (id: string) => {\n        if (onInteract) onInteract();\n        setNodes(prev => prev.filter(n => n.id !== id));\n        setContextMenu({ ...contextMenu, visible: false });\n    };\n\n    const handleAddTable = () => {\n        if (onInteract) onInteract();\n        const id = `t${Date.now()}`;\n        // Add new table at center of current view roughly\n        const centerX = -pan.x / scale + (containerRef.current ? containerRef.current.clientWidth / 2 / scale : 400);\n        const centerY = -pan.y / scale + (containerRef.current ? containerRef.current.clientHeight / 2 / scale : 300);\n\n        const newNode: TableNode = {\n            id,\n            name: 'new_table',\n            columns: ['id', 'created_at'],\n            x: centerX - 100, // Offset to center the node\n            y: centerY - 100\n        };\n        setNodes(prev => [...prev, newNode]);\n        setHighlightedNodeId(id);\n    };\n\n    // -- Orthogonal Path Rendering --\n    const getOrthogonalPath = (startId: string, endId: string, startOffsetY = 40, endOffsetY = 40) => {\n        const startNode = nodes.find(n => n.id === startId);\n        const endNode = nodes.find(n => n.id === endId);\n\n        if (!startNode || !endNode) return \"\";\n\n        // Anchors: Start right side, End left side\n        const startX = startNode.x + 220;\n        const startY = startNode.y + startOffsetY;\n        const endX = endNode.x;\n        const endY = endNode.y + endOffsetY;\n\n        const dist = Math.abs(endX - startX);\n        const midX = startX + (dist / 2);\n\n        // Simple S-curve via orthogonal segments\n        return `M ${startX} ${startY} L ${midX} ${startY} L ${midX} ${endY} L ${endX} ${endY}`;\n    };\n\n    const getTypeBadge = (colName: string) => {\n        if (colName.includes('id') || colName.includes('amount') || colName.includes('price') || colName.includes('stock')) return \"123\";\n        if (colName.includes('date') || colName.includes('at')) return \"ðŸ“…\";\n        return \"Aa\";\n    };\n\n    return (\n        <div\n            ref={containerRef}\n            className={`h-full w-full relative bg-[#f8fafc] overflow-hidden select-none font-sans ${isPanning ? 'cursor-grabbing' : 'cursor-default'}`}\n            onMouseDown={handleCanvasMouseDown}\n            onContextMenu={(e) => e.preventDefault()}\n            onWheel={(e) => {\n                if (e.ctrlKey) {\n                    e.preventDefault();\n                    setScale(s => Math.min(Math.max(s - e.deltaY * 0.001, 0.5), 2));\n                }\n            }}\n        >\n            {/* Grid Background */}\n            <div className=\"absolute inset-0 pointer-events-none\"\n                style={{\n                    backgroundImage: `\n                        linear-gradient(to right, #e2e8f0 1px, transparent 1px),\n                        linear-gradient(to bottom, #e2e8f0 1px, transparent 1px)\n                      `,\n                    backgroundSize: `${GRID_SIZE * scale}px ${GRID_SIZE * scale}px`,\n                    transform: `translate(${pan.x}px, ${pan.y}px)`,\n                    opacity: 0.5\n                }}>\n            </div>\n\n            {/* Canvas Content */}\n            <div\n                className=\"absolute inset-0 top-0 left-0 origin-top-left will-change-transform\"\n                style={{\n                    transform: `translate(${pan.x}px, ${pan.y}px) scale(${scale})`,\n                    transition: isPanning || draggingId ? 'none' : 'transform 0.1s linear'\n                }}\n            >\n                {/* Connections Layer */}\n                <svg className=\"absolute -left-[5000px] -top-[5000px] w-[10000px] h-[10000px] pointer-events-none z-0 overflow-visible\">\n                    <defs>\n                        <marker id=\"arrow-gray\" viewBox=\"0 0 10 10\" refX=\"8\" refY=\"5\" markerWidth=\"6\" markerHeight=\"6\" orient=\"auto\">\n                            <path d=\"M 0 0 L 10 5 L 0 10 z\" fill=\"#94a3b8\" />\n                        </marker>\n                    </defs>\n                    {/* Dynamic Connections based on existing nodes */}\n                    {/* Only render connection if both nodes exist */}\n                    {nodes.find(n => n.id === 't1') && nodes.find(n => n.id === 't2') && (\n                        <path d={getOrthogonalPath('t1', 't2', 60, 60)} stroke=\"#94a3b8\" strokeWidth=\"2\" fill=\"none\" markerEnd=\"url(#arrow-gray)\" />\n                    )}\n                    {nodes.find(n => n.id === 't3') && nodes.find(n => n.id === 't1') && (\n                        <path d={getOrthogonalPath('t3', 't1', 60, 100)} stroke=\"#94a3b8\" strokeWidth=\"2\" fill=\"none\" markerEnd=\"url(#arrow-gray)\" />\n                    )}\n                    {nodes.find(n => n.id === 't3') && nodes.find(n => n.id === 't4') && (\n                        <path d={getOrthogonalPath('t3', 't4', 100, 60)} stroke=\"#94a3b8\" strokeWidth=\"2\" fill=\"none\" markerEnd=\"url(#arrow-gray)\" />\n                    )}\n                </svg>\n\n                {/* Nodes */}\n                {nodes.map((node) => (\n                    <div\n                        key={node.id}\n                        onMouseDown={(e) => handleNodeMouseDown(e, node.id, node.x, node.y)}\n                        onContextMenu={(e) => handleNodeContextMenu(e, node.id)}\n                        className={`absolute w-[220px] bg-white rounded-lg shadow-sm hover:shadow-md cursor-grab active:cursor-grabbing z-10 flex flex-col border transition-all duration-300\n                            ${draggingId === node.id ? 'shadow-xl scale-[1.02] z-50' : ''}\n                            ${highlightedNodeId === node.id ? 'ring-2 ring-purple-500 shadow-[0_0_20px_rgba(168,85,247,0.3)] border-purple-500 z-40' : 'border-slate-200'}\n                        `}\n                        style={{\n                            transform: `translate(${node.x}px, ${node.y}px)`,\n                        }}\n                    >\n                        {/* Highlight Tag */}\n                        {highlightedNodeId === node.id && isAutoplay && (\n                            <div className=\"absolute -top-8 left-0 right-0 flex justify-center animate-fade-in-up\">\n                                <div className=\"bg-purple-600 text-white text-[10px] font-bold px-2 py-1 rounded-full shadow-lg flex items-center gap-1\">\n                                    <Sparkles size={10} className=\"text-yellow-300\" /> AI Generating\n                                </div>\n                            </div>\n                        )}\n\n                        {/* Node Header */}\n                        <div className={`px-3 py-2.5 rounded-t-lg flex justify-between items-center text-white transition-colors\n                             ${highlightedNodeId === node.id ? 'bg-purple-600' : (draggingId === node.id ? 'bg-blue-600' : 'bg-slate-800')}\n                         `}>\n                            <div className=\"flex items-center gap-2 overflow-hidden\">\n                                <Box size={14} className={`${highlightedNodeId === node.id ? 'text-white' : 'text-blue-200'} shrink-0`} />\n                                <span className=\"font-semibold text-sm tracking-wide truncate\">{node.name}</span>\n                            </div>\n                            <button\n                                onMouseDown={(e) => e.stopPropagation()}\n                                onClick={(e) => handleNodeContextMenu(e, node.id)}\n                                className=\"text-white/60 hover:text-white transition-colors\"\n                            >\n                                <MoreVertical size={14} />\n                            </button>\n                        </div>\n\n                        {/* Columns */}\n                        <div className=\"bg-white rounded-b-lg divide-y divide-slate-100 text-sm\">\n                            {node.columns.map((col, idx) => (\n                                <div key={idx} className=\"flex items-center justify-between px-3 py-2 hover:bg-slate-50 group transition-colors\">\n                                    <div className=\"flex items-center gap-2 overflow-hidden\">\n                                        <span className=\"font-mono text-[10px] text-slate-700 bg-slate-100 px-1.5 py-0.5 rounded font-bold\">{getTypeBadge(col)}</span>\n                                        <span className=\"text-slate-700 truncate\">{col}</span>\n                                    </div>\n                                    {/* Port dot */}\n                                    <div className=\"w-2 h-2 rounded-full bg-slate-200 border border-white group-hover:bg-blue-400\"></div>\n                                </div>\n                            ))}\n\n                            {/* Add Column Button */}\n                            <button\n                                onClick={(e) => handleAddColumn(e, node.id)}\n                                className=\"w-full px-3 py-2 flex items-center gap-2 text-slate-700 font-bold hover:text-blue-700 hover:bg-blue-50 cursor-pointer transition-colors rounded-b-lg border-t border-transparent hover:border-blue-100\"\n                            >\n                                <Plus size={14} />\n                                <span className=\"text-xs font-medium\">Add field</span>\n                            </button>\n                        </div>\n                    </div>\n                ))}\n            </div>\n\n            {/* Canvas Controls */}\n            <div className=\"absolute bottom-6 left-6 flex flex-col gap-3\" onMouseDown={(e) => e.stopPropagation()}>\n                {/* View Controls */}\n                <div className=\"flex flex-col bg-white border border-slate-200 rounded-lg shadow-lg z-20 overflow-hidden\">\n                    <button onClick={() => setScale(s => Math.min(s + 0.1, 2))} className=\"p-2.5 text-slate-600 hover:bg-slate-50 hover:text-blue-600 border-b border-slate-100 transition-colors\"><ZoomIn size={18} /></button>\n                    <button onClick={() => setScale(s => Math.max(s - 0.1, 0.5))} className=\"p-2.5 text-slate-600 hover:bg-slate-50 hover:text-blue-600 border-b border-slate-100 transition-colors\"><ZoomOut size={18} /></button>\n                    <button onClick={() => { setPan({ x: 0, y: 0 }); setScale(1); }} className=\"p-2.5 text-slate-600 hover:bg-slate-50 hover:text-blue-600 transition-colors\" title=\"Reset View\"><Box size={18} /></button>\n                </div>\n            </div>\n\n            {/* Top Right Action Bar */}\n            <div className=\"absolute top-4 right-4 z-20 flex gap-2\" onMouseDown={(e) => e.stopPropagation()}>\n                <button\n                    onClick={handleAddTable}\n                    className=\"flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-lg shadow-lg hover:bg-slate-800 transition-all font-medium text-sm\"\n                >\n                    <TableIcon size={16} /> Add Table\n                </button>\n            </div>\n\n            {/* Context Menu Portal */}\n            {contextMenu.visible && contextMenu.nodeId && (\n                <div\n                    className=\"fixed z-[100] bg-white rounded-lg shadow-xl border border-slate-200 w-48 py-1 animate-scale-up origin-top-left\"\n                    style={{ left: contextMenu.x, top: contextMenu.y }}\n                    onMouseDown={(e) => e.stopPropagation()}\n                >\n                    <div className=\"px-3 py-2 border-b border-slate-100 mb-1\">\n                        <span className=\"text-xs font-bold text-slate-500 uppercase tracking-wider\">Table Actions</span>\n                    </div>\n                    <button className=\"w-full text-left px-3 py-2 hover:bg-slate-50 text-sm text-slate-700 flex items-center gap-2\">\n                        <Edit2 size={14} /> Rename Table\n                    </button>\n                    <button className=\"w-full text-left px-3 py-2 hover:bg-slate-50 text-sm text-slate-700 flex items-center gap-2\">\n                        <Copy size={14} /> Duplicate\n                    </button>\n                    <div className=\"h-[1px] bg-slate-100 my-1\"></div>\n                    <button\n                        onClick={() => deleteNode(contextMenu.nodeId!)}\n                        className=\"w-full text-left px-3 py-2 hover:bg-red-50 text-sm text-red-600 flex items-center gap-2\"\n                    >\n                        <Trash2 size={14} /> Delete\n                    </button>\n                </div>\n            )}\n        </div>\n    );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2182, "column": 0}, "map": {"version":3,"sources":["file:///Users/giorgikyn/Desktop/Chatty-Comparison/chatty-ai-web/components/interactive-hero/components/views/Workflow.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport {\n    Database,\n    MessageSquare,\n    Play,\n    RefreshCw,\n    PenTool,\n    Search,\n    Cloud,\n    Plus,\n    ChevronDown,\n    MoreHorizontal,\n    Zap,\n    Cpu,\n    FileText,\n    StopCircle,\n    Trash2,\n    Settings2,\n    X,\n    AlertCircle,\n    Brain\n} from 'lucide-react';\n\ninterface WorkflowProps {\n    isAutoplay: boolean;\n    onInteract?: () => void;\n}\n\ninterface WorkflowNode {\n    id: number;\n    label: string;\n    sub: string;\n    icon: any;\n    x: number;\n    y: number;\n    type: 'trigger' | 'action' | 'agent';\n    config?: Record<string, string>;\n}\n\ninterface Edge {\n    id: string;\n    source: number;\n    target: number;\n}\n\nexport const WorkflowView: React.FC<WorkflowProps> = ({ isAutoplay, onInteract }) => {\n    const [activeNode, setActiveNode] = useState<number>(-1); // For autoplay visual\n    const [selectedNodeId, setSelectedNodeId] = useState<number | null>(null);\n    const [selectedEdgeId, setSelectedEdgeId] = useState<string | null>(null);\n    const [searchQuery, setSearchQuery] = useState(\"\");\n    const [isRunning, setIsRunning] = useState(false);\n\n    const containerRef = useRef<HTMLDivElement>(null);\n\n    // Initial Nodes\n    const [nodes, setNodes] = useState<WorkflowNode[]>([\n        { id: 0, label: 'Update a chat', sub: 'update: chat', icon: MessageSquare, x: 100, y: 180, type: 'trigger' },\n        { id: 1, label: 'Set Table Name', sub: 'manual', icon: PenTool, x: 280, y: 180, type: 'action' },\n        {\n            id: 2,\n            label: 'Database Agent',\n            sub: 'Chat Model + Memory',\n            icon: Database,\n            x: 480,\n            y: 180,\n            type: 'agent',\n            config: {\n                model: 'gpt-4-turbo',\n                temperature: '0.7',\n                memory: 'true',\n                systemPrompt: 'You are an expert database analyst capable of writing optimized SQL queries.'\n            }\n        },\n        { id: 3, label: 'Get all models', sub: 'getAll: model', icon: RefreshCw, x: 720, y: 120, type: 'action' },\n        { id: 4, label: 'Execute SQL', sub: 'exec: sql', icon: Database, x: 720, y: 320, type: 'action' },\n    ]);\n\n    // Edges State\n    const [edges, setEdges] = useState<Edge[]>([\n        { id: 'e1', source: 0, target: 1 },\n        { id: 'e2', source: 1, target: 2 }\n    ]);\n\n    // Drag State\n    const [draggingId, setDraggingId] = useState<number | null>(null);\n    const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\n\n    // Connection State\n    const [connectingSource, setConnectingSource] = useState<number | null>(null);\n    const [mousePos, setMousePos] = useState({ x: 0, y: 0 });\n\n    // Helper to update node data\n    const updateNode = (id: number, updates: any) => {\n        if (onInteract) onInteract();\n        setNodes(prev => prev.map(n => {\n            if (n.id === id) {\n                // If updating config, merge it\n                if (updates.config) {\n                    return { ...n, config: { ...n.config, ...updates.config } };\n                }\n                return { ...n, ...updates };\n            }\n            return n;\n        }));\n    };\n\n    // Delete Handler (Nodes & Edges)\n    useEffect(() => {\n        const handleKeyDown = (e: KeyboardEvent) => {\n            if (e.key === 'Delete' || e.key === 'Backspace') {\n                if (onInteract) onInteract();\n\n                if (selectedNodeId !== null) {\n                    setNodes(prev => prev.filter(n => n.id !== selectedNodeId));\n                    setEdges(prev => prev.filter(edge => edge.source !== selectedNodeId && edge.target !== selectedNodeId));\n                    setSelectedNodeId(null);\n                }\n\n                if (selectedEdgeId !== null) {\n                    setEdges(prev => prev.filter(e => e.id !== selectedEdgeId));\n                    setSelectedEdgeId(null);\n                }\n            }\n        };\n        window.addEventListener('keydown', handleKeyDown);\n        return () => window.removeEventListener('keydown', handleKeyDown);\n    }, [selectedNodeId, selectedEdgeId, onInteract]);\n\n    // -- Mouse Handlers --\n    useEffect(() => {\n        if (draggingId === null) return;\n        const handleMouseMoveWindow = (e: MouseEvent) => {\n            setNodes(prev => prev.map(n =>\n                n.id === draggingId\n                    ? { ...n, x: e.clientX - dragOffset.x, y: e.clientY - dragOffset.y }\n                    : n\n            ));\n        };\n        const handleMouseUpWindow = () => setDraggingId(null);\n\n        window.addEventListener('mousemove', handleMouseMoveWindow);\n        window.addEventListener('mouseup', handleMouseUpWindow);\n        return () => {\n            window.removeEventListener('mousemove', handleMouseMoveWindow);\n            window.removeEventListener('mouseup', handleMouseUpWindow);\n        };\n    }, [draggingId, dragOffset]);\n\n    useEffect(() => {\n        const handleGlobalMouseUp = () => setConnectingSource(null);\n        window.addEventListener('mouseup', handleGlobalMouseUp);\n        return () => window.removeEventListener('mouseup', handleGlobalMouseUp);\n    }, []);\n\n    const handleCanvasClick = () => {\n        if (onInteract) onInteract();\n        setSelectedNodeId(null);\n        setSelectedEdgeId(null);\n    }\n\n    const handleNodeMouseDown = (e: React.MouseEvent, id: number, x: number, y: number) => {\n        if (onInteract) onInteract();\n        e.stopPropagation();\n        setDraggingId(id);\n        setSelectedNodeId(id);\n        setSelectedEdgeId(null);\n        setDragOffset({ x: e.clientX - x, y: e.clientY - y });\n    };\n\n    const handlePortMouseDown = (e: React.MouseEvent, id: number) => {\n        e.stopPropagation();\n        e.preventDefault();\n        if (onInteract) onInteract();\n        setConnectingSource(id);\n        if (containerRef.current) {\n            const rect = containerRef.current.getBoundingClientRect();\n            setMousePos({ x: e.clientX - rect.left, y: e.clientY - rect.top });\n        }\n    };\n\n    const handlePortMouseUp = (e: React.MouseEvent, targetId: number) => {\n        e.stopPropagation();\n        if (connectingSource !== null && connectingSource !== targetId) {\n            const exists = edges.some(e => e.source === connectingSource && e.target === targetId);\n            const reverseExists = edges.some(e => e.source === targetId && e.target === connectingSource); // No cycles for this simple DAG\n\n            if (!exists && !reverseExists) {\n                setEdges(prev => [...prev, { id: `e-${Date.now()}`, source: connectingSource, target: targetId }]);\n            }\n        }\n        setConnectingSource(null);\n    };\n\n    const handleMouseMoveCanvas = (e: React.MouseEvent) => {\n        if (connectingSource !== null && containerRef.current) {\n            const rect = containerRef.current.getBoundingClientRect();\n            setMousePos({ x: e.clientX - rect.left, y: e.clientY - rect.top });\n        }\n    };\n\n    const addNode = (label: string, icon: any, type: 'action' | 'trigger' | 'agent' = 'action') => {\n        if (onInteract) onInteract();\n        const newId = nodes.length > 0 ? Math.max(...nodes.map(n => n.id)) + 1 : 0;\n        const newNode: WorkflowNode = {\n            id: newId,\n            label,\n            sub: type === 'agent' ? 'AI Agent' : 'action',\n            icon,\n            x: 350 + (Math.random() * 50),\n            y: 250 + (Math.random() * 50),\n            type,\n            config: type === 'agent' ? { model: 'gpt-4-turbo', temperature: '0.7', memory: 'true' } : {}\n        };\n        setNodes(prev => [...prev, newNode]);\n        setSelectedNodeId(newId);\n    };\n\n    // Autoplay\n    useEffect(() => {\n        if (isAutoplay && draggingId === null && connectingSource === null) {\n            const interval = setInterval(() => setActiveNode(prev => (prev + 1) % 5), 800);\n            return () => clearInterval(interval);\n        }\n    }, [isAutoplay, draggingId, connectingSource]);\n\n    const knowledgeActions = [\n        { label: 'Create KB', full: 'Create a knowledge base', icon: Database },\n        { label: 'Get KB', full: 'Get a knowledge base', icon: Search },\n        { label: 'Update KB', full: 'Update a knowledge base', icon: RefreshCw },\n        { label: 'Add File', full: 'Add file to knowledge base', icon: FileText }\n    ];\n    const chatActions = [\n        { label: 'Create Chat', full: 'Create a chat', icon: MessageSquare },\n        { label: 'Get Chat', full: 'Get a chat', icon: Search },\n        { label: 'Update Chat', full: 'Update a chat', icon: RefreshCw }\n    ];\n\n    const filterActions = (list: any[]) => list.filter(a => a.full.toLowerCase().includes(searchQuery.toLowerCase()));\n    const getNode = (id: number) => nodes.find(n => n.id === id);\n    const selectedNode = selectedNodeId !== null ? nodes.find(n => n.id === selectedNodeId) : null;\n\n    return (\n        <div className=\"h-full w-full bg-[#f8fafc] relative overflow-hidden flex flex-col font-sans\">\n\n            {/* Top Toolbar */}\n            <div className=\"h-12 border-b border-slate-200 bg-white flex items-center justify-between px-4 shrink-0 z-10 shadow-sm\">\n                <div className=\"flex items-center gap-3\">\n                    <div className=\"h-8 w-8 bg-blue-600 rounded-md flex items-center justify-center shadow-sm\">\n                        <Zap size={18} className=\"text-white fill-white\" />\n                    </div>\n                    <div>\n                        <div className=\"text-xs font-bold text-slate-800\">New Automation Flow</div>\n                        <div className=\"text-[10px] text-slate-700 font-bold\">Last edited just now</div>\n                    </div>\n                </div>\n                <div className=\"flex items-center gap-3\">\n                    <button\n                        onClick={() => { if (onInteract) onInteract(); setIsRunning(!isRunning); if (isRunning) setActiveNode(-1); }}\n                        className={`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-bold transition-all shadow-sm border\n                            ${isRunning\n                                ? 'bg-red-50 text-red-600 border-red-100 hover:bg-red-100'\n                                : 'bg-white text-slate-700 border-slate-200 hover:border-blue-400 hover:text-blue-600'\n                            }`}\n                    >\n                        {isRunning ? <StopCircle size={14} fill=\"currentColor\" className=\"opacity-20\" /> : <Play size={14} fill=\"currentColor\" />}\n                        {isRunning ? \"Stop\" : \"Test Run\"}\n                    </button>\n                    <button className=\"px-3 py-1.5 bg-slate-900 text-white rounded-md text-xs font-medium hover:bg-slate-800 shadow-sm\">Publish</button>\n                </div>\n            </div>\n\n            {/* Main Workspace */}\n            <div className=\"flex-1 flex overflow-hidden\">\n                {/* Canvas */}\n                <div\n                    ref={containerRef}\n                    className=\"flex-1 relative overflow-hidden bg-slate-50 cursor-crosshair\"\n                    onMouseMove={handleMouseMoveCanvas}\n                    onClick={handleCanvasClick}\n                >\n                    <div className=\"absolute inset-0 opacity-[0.4] pointer-events-none\"\n                        style={{\n                            backgroundImage: 'radial-gradient(#cbd5e1 1.5px, transparent 1.5px)',\n                            backgroundSize: '24px 24px'\n                        }}>\n                    </div>\n\n                    <svg className=\"absolute inset-0 w-full h-full pointer-events-none z-0 overflow-visible\">\n                        <defs>\n                            <marker id=\"arrow\" viewBox=\"0 0 10 10\" refX=\"8\" refY=\"5\" markerWidth=\"6\" markerHeight=\"6\" orient=\"auto-start-reverse\">\n                                <path d=\"M 0 0 L 10 5 L 0 10 z\" fill=\"#94a3b8\" />\n                            </marker>\n                            <marker id=\"arrow-selected\" viewBox=\"0 0 10 10\" refX=\"8\" refY=\"5\" markerWidth=\"6\" markerHeight=\"6\" orient=\"auto-start-reverse\">\n                                <path d=\"M 0 0 L 10 5 L 0 10 z\" fill=\"#3b82f6\" />\n                            </marker>\n                        </defs>\n\n                        {edges.map(edge => {\n                            const source = getNode(edge.source);\n                            const target = getNode(edge.target);\n                            if (!source || !target) return null;\n\n                            const sx = source.x + 64;\n                            const sy = source.y + 32;\n                            const tx = target.x;\n                            const ty = target.y + 32;\n                            // Bezier curve\n                            const pathD = `M ${sx} ${sy} C ${sx + 80} ${sy}, ${tx - 80} ${ty}, ${tx} ${ty}`;\n                            const isSelected = selectedEdgeId === edge.id;\n\n                            return (\n                                <g key={edge.id} onClick={(e) => { e.stopPropagation(); if (onInteract) onInteract(); setSelectedEdgeId(edge.id); setSelectedNodeId(null); }} className=\"pointer-events-auto cursor-pointer group\">\n                                    {/* Invisible thick path for easier clicking */}\n                                    <path d={pathD} stroke=\"transparent\" strokeWidth=\"15\" fill=\"none\" />\n\n                                    {/* Visible path */}\n                                    <path\n                                        d={pathD}\n                                        stroke={isSelected || isRunning ? \"#3b82f6\" : \"#94a3b8\"}\n                                        strokeWidth={isSelected ? \"3\" : \"2\"}\n                                        fill=\"none\"\n                                        markerEnd={isSelected || isRunning ? \"url(#arrow-selected)\" : \"url(#arrow)\"}\n                                        className=\"transition-colors duration-300 group-hover:stroke-blue-400\"\n                                    />\n                                    {isRunning && (\n                                        <circle r=\"4\" fill=\"#3b82f6\">\n                                            <animateMotion dur=\"1s\" repeatCount=\"indefinite\" path={pathD} keyPoints=\"0;1\" keyTimes=\"0;1\" />\n                                        </circle>\n                                    )}\n                                </g>\n                            );\n                        })}\n\n                        {connectingSource !== null && (\n                            <path\n                                d={`M ${getNode(connectingSource)!.x + 64} ${getNode(connectingSource)!.y + 32} C ${getNode(connectingSource)!.x + 100} ${getNode(connectingSource)!.y + 32}, ${mousePos.x - 50} ${mousePos.y}, ${mousePos.x} ${mousePos.y}`}\n                                stroke=\"#3b82f6\" strokeWidth=\"2\" strokeDasharray=\"5,5\" fill=\"none\"\n                            />\n                        )}\n                    </svg>\n\n                    {nodes.map((node, i) => (\n                        <div\n                            key={node.id}\n                            onMouseDown={(e) => handleNodeMouseDown(e, node.id, node.x, node.y)}\n                            className={`absolute flex flex-col items-center gap-2 transition-all duration-200 cursor-grab active:cursor-grabbing group\n                                ${activeNode === i && isAutoplay ? 'scale-105' : ''}\n                                ${draggingId === node.id ? 'z-50 scale-105' : 'z-10'}\n                            `}\n                            style={{ left: node.x, top: node.y }}\n                        >\n                            <div className={`\n                                w-16 h-16 bg-white rounded-[16px] flex items-center justify-center relative shadow-[0_4px_20px_-2px_rgba(0,0,0,0.1)] transition-all\n                                ${activeNode === i && isAutoplay ? 'ring-2 ring-blue-500 border-transparent' : ''}\n                                ${selectedNodeId === node.id ? 'ring-2 ring-blue-500 border-transparent shadow-[0_8px_30px_-4px_rgba(59,130,246,0.2)]' : 'border border-slate-100 hover:border-slate-300'}\n                                ${connectingSource === node.id ? 'ring-2 ring-blue-500' : ''}\n                            `}>\n                                {node.type === 'agent' ? (\n                                    <div className=\"h-10 w-10 bg-slate-900 rounded-lg flex items-center justify-center pointer-events-none\">\n                                        <span className=\"text-white font-bold text-sm\">AI</span>\n                                    </div>\n                                ) : (\n                                    <div className=\"h-10 w-10 rounded-full bg-slate-50 flex items-center justify-center pointer-events-none text-slate-600\">\n                                        <node.icon size={20} />\n                                    </div>\n                                )}\n\n                                {/* Hover Ports */}\n                                <div onMouseUp={(e) => handlePortMouseUp(e, node.id)} className=\"absolute -left-3 w-6 h-6 flex items-center justify-center top-1/2 -translate-y-1/2 cursor-pointer z-20 opacity-0 group-hover:opacity-100 transition-opacity\">\n                                    <div className=\"w-2.5 h-2.5 bg-white border-2 border-slate-400 rounded-full hover:bg-blue-500 hover:border-blue-500 hover:scale-125 transition-all\"></div>\n                                </div>\n                                <div onMouseDown={(e) => handlePortMouseDown(e, node.id)} className=\"absolute -right-3 w-6 h-6 flex items-center justify-center top-1/2 -translate-y-1/2 cursor-pointer z-20 opacity-0 group-hover:opacity-100 transition-opacity\">\n                                    <div className=\"w-2.5 h-2.5 bg-white border-2 border-slate-400 rounded-full hover:bg-blue-500 hover:border-blue-500 hover:scale-125 transition-all\"></div>\n                                </div>\n                            </div>\n                            <div className=\"text-center z-10 pointer-events-none\">\n                                <div className=\"text-[11px] font-bold text-slate-700 leading-tight mb-0.5 select-none bg-slate-50/80 px-2 py-0.5 rounded backdrop-blur-sm\">{node.label}</div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n\n                {/* Interactive Right Panel */}\n                <div className=\"w-[320px] bg-white border-l border-slate-200 flex flex-col hidden lg:flex z-20 shadow-[-4px_0_15px_-3px_rgba(0,0,0,0.05)]\">\n                    {selectedNode ? (\n                        // Node Properties Panel\n                        <div className=\"flex flex-col h-full animate-slide-in-right\">\n                            <div className=\"h-14 flex items-center justify-between px-5 border-b border-slate-100 shrink-0 bg-slate-50/50\">\n                                <span className=\"font-bold text-sm text-slate-800 flex items-center gap-2\">\n                                    <Settings2 size={16} className=\"text-slate-500\" />\n                                    Node Settings\n                                </span>\n                                <button onClick={() => setSelectedNodeId(null)} className=\"p-1 hover:bg-slate-200 rounded text-slate-500\"><X size={16} /></button>\n                            </div>\n                            <div className=\"p-5 flex-1 overflow-y-auto space-y-6\">\n                                <div>\n                                    <label className=\"block text-xs font-semibold text-slate-500 mb-2 uppercase tracking-wide\">Configuration</label>\n                                    <div className=\"space-y-3\">\n                                        <div>\n                                            <div className=\"text-[11px] text-slate-600 mb-1 font-medium\">Node Label</div>\n                                            <input\n                                                type=\"text\"\n                                                value={selectedNode.label}\n                                                onChange={(e) => updateNode(selectedNode.id, { label: e.target.value })}\n                                                className=\"w-full text-sm border border-slate-200 rounded-md px-3 py-2 outline-none focus:border-blue-500 transition-colors\"\n                                            />\n                                        </div>\n                                        <div>\n                                            <div className=\"text-[11px] text-slate-600 mb-1 font-medium\">Description</div>\n                                            <input\n                                                type=\"text\"\n                                                value={selectedNode.sub}\n                                                onChange={(e) => updateNode(selectedNode.id, { sub: e.target.value })}\n                                                className=\"w-full text-sm border border-slate-200 rounded-md px-3 py-2 outline-none focus:border-blue-500 transition-colors\"\n                                            />\n                                        </div>\n                                    </div>\n                                </div>\n\n                                {/* Config Panel for Agents */}\n                                {selectedNode.type === 'agent' && (\n                                    <div className=\"space-y-5 border-t border-slate-100 pt-5\">\n                                        <h3 className=\"text-xs font-bold text-slate-900 uppercase tracking-wide flex items-center gap-2\">\n                                            <Zap size={14} className=\"text-blue-600\" fill=\"currentColor\" />\n                                            Model Configuration\n                                        </h3>\n\n                                        {/* Model Selection */}\n                                        <div className=\"space-y-1.5\">\n                                            <label className=\"text-[11px] font-medium text-slate-500\">LLM Model</label>\n                                            <div className=\"relative\">\n                                                <select\n                                                    value={selectedNode.config?.model || 'gpt-4-turbo'}\n                                                    onChange={(e) => updateNode(selectedNode.id, { config: { model: e.target.value } })}\n                                                    className=\"w-full appearance-none bg-white border border-slate-200 text-slate-700 text-xs rounded-md pl-3 pr-8 py-2.5 focus:border-blue-500 focus:ring-1 focus:ring-blue-100 outline-none transition-all cursor-pointer hover:border-slate-300\"\n                                                >\n                                                    <option value=\"gpt-4-turbo\">GPT-4 Turbo</option>\n                                                    <option value=\"gpt-4\">GPT-4</option>\n                                                    <option value=\"gpt-3.5-turbo\">GPT-3.5 Turbo</option>\n                                                    <option value=\"claude-3-opus\">Claude 3 Opus</option>\n                                                </select>\n                                                <ChevronDown size={14} className=\"absolute right-2.5 top-1/2 -translate-y-1/2 text-slate-600 pointer-events-none\" />\n                                            </div>\n                                        </div>\n\n                                        {/* Temperature */}\n                                        <div className=\"space-y-2\">\n                                            <div className=\"flex items-center justify-between\">\n                                                <label className=\"text-[11px] font-medium text-slate-500\">Temperature</label>\n                                                <span className=\"text-[10px] font-mono text-slate-500 bg-slate-100 px-2 py-0.5 rounded border border-slate-200\">{selectedNode.config?.temperature || '0.7'}</span>\n                                            </div>\n                                            <input\n                                                type=\"range\"\n                                                min=\"0\"\n                                                max=\"1\"\n                                                step=\"0.1\"\n                                                value={selectedNode.config?.temperature || '0.7'}\n                                                onChange={(e) => updateNode(selectedNode.id, { config: { temperature: e.target.value } })}\n                                                className=\"w-full h-1.5 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600\"\n                                            />\n                                            <div className=\"flex justify-between text-[10px] text-slate-600 font-bold px-0.5\">\n                                                <span>Precise (0.0)</span>\n                                                <span>Creative (1.0)</span>\n                                            </div>\n                                        </div>\n\n                                        {/* Memory Toggle */}\n                                        <div className=\"flex items-center justify-between p-3 border border-slate-200 rounded-lg bg-slate-50/50 hover:bg-slate-50 transition-colors\">\n                                            <div className=\"flex flex-col gap-0.5\">\n                                                <div className=\"flex items-center gap-1.5\">\n                                                    <Brain size={14} className=\"text-purple-600\" />\n                                                    <span className=\"text-xs font-semibold text-slate-700\">Memory</span>\n                                                </div>\n                                                <span className=\"text-[10px] text-slate-500\">Retain context from previous turns</span>\n                                            </div>\n                                            <button\n                                                onClick={() => updateNode(selectedNode.id, { config: { memory: String(selectedNode.config?.memory !== 'true') } })}\n                                                className={`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none ${selectedNode.config?.memory === 'true' ? 'bg-blue-600' : 'bg-slate-300'}`}\n                                            >\n                                                <span className={`inline-block h-3.5 w-3.5 transform rounded-full bg-white transition-transform shadow-sm ${selectedNode.config?.memory === 'true' ? 'translate-x-[18px]' : 'translate-x-[2px]'}`} />\n                                            </button>\n                                        </div>\n\n                                        {/* System Prompt */}\n                                        <div className=\"space-y-1.5\">\n                                            <label className=\"text-[11px] font-medium text-slate-500\">System Prompt</label>\n                                            <textarea\n                                                value={selectedNode.config?.systemPrompt || ''}\n                                                onChange={(e) => updateNode(selectedNode.id, { config: { systemPrompt: e.target.value } })}\n                                                className=\"w-full bg-white border border-slate-200 text-slate-700 text-xs rounded-md p-2.5 h-24 focus:border-blue-500 focus:ring-1 focus:ring-blue-100 outline-none resize-none transition-all placeholder:text-slate-300\"\n                                                placeholder=\"Define the agent's persona and rules...\"\n                                            />\n                                        </div>\n                                    </div>\n                                )}\n\n                                <div className=\"pt-4 border-t border-slate-100\">\n                                    <button\n                                        onClick={() => {\n                                            if (onInteract) onInteract();\n                                            setNodes(prev => prev.filter(n => n.id !== selectedNode.id));\n                                            setSelectedNodeId(null);\n                                        }}\n                                        className=\"w-full py-2 border border-red-200 text-red-600 rounded-md text-xs font-bold hover:bg-red-50 flex items-center justify-center gap-2 transition-colors\"\n                                    >\n                                        <Trash2 size={14} /> Delete Node\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    ) : (\n                        // Action Library Panel\n                        <div className=\"flex flex-col h-full\">\n                            <div className=\"h-14 flex items-center px-5 border-b border-slate-100 gap-2 shrink-0\">\n                                <span className=\"font-bold text-sm text-slate-800\">Action Library</span>\n                            </div>\n                            <div className=\"p-3 border-b border-slate-100 shrink-0\">\n                                <div className=\"relative\">\n                                    <Search size={14} className=\"absolute top-2.5 left-3 text-slate-600\" />\n                                    <input\n                                        type=\"text\"\n                                        placeholder=\"Search components...\"\n                                        className=\"w-full bg-white border border-slate-200 rounded-[4px] pl-9 py-2 text-xs outline-none text-slate-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-100 transition-all\"\n                                        value={searchQuery}\n                                        onChange={(e) => setSearchQuery(e.target.value)}\n                                    />\n                                </div>\n                            </div>\n                            <div className=\"flex-1 overflow-y-auto bg-slate-50/50 p-4 space-y-4\">\n                                <div>\n                                    <div className=\"flex items-center justify-between mb-2 text-xs font-bold text-slate-500 uppercase tracking-wide\">\n                                        Triggers\n                                    </div>\n                                    <button\n                                        onClick={() => addNode('Webhook', Zap, 'trigger')}\n                                        className=\"w-full text-left flex items-center gap-3 p-2 bg-white border border-slate-200 rounded-lg hover:border-blue-400 hover:shadow-sm transition-all group mb-1\"\n                                    >\n                                        <div className=\"h-8 w-8 rounded-md bg-orange-50 flex items-center justify-center text-orange-600 shrink-0\"><Zap size={16} /></div>\n                                        <div>\n                                            <div className=\"text-xs font-bold text-slate-700\">Webhook</div>\n                                            <div className=\"text-[10px] text-slate-400\">Receive HTTP requests</div>\n                                        </div>\n                                        <Plus size={14} className=\"ml-auto text-slate-300 group-hover:text-blue-500\" />\n                                    </button>\n                                </div>\n\n                                <div>\n                                    <div className=\"flex items-center justify-between mb-2 text-xs font-bold text-slate-500 uppercase tracking-wide\">\n                                        Available Actions\n                                    </div>\n                                    <div className=\"space-y-2\">\n                                        {[...filterActions(knowledgeActions), ...filterActions(chatActions)].map((action, i) => (\n                                            <button\n                                                key={i}\n                                                onClick={() => addNode(action.label, action.icon, 'action')}\n                                                className=\"w-full text-left flex items-center gap-3 p-2 bg-white border border-slate-200 rounded-lg hover:border-blue-400 hover:shadow-sm transition-all group\"\n                                            >\n                                                <div className=\"h-8 w-8 rounded-md bg-slate-50 flex items-center justify-center text-slate-600 shrink-0\">\n                                                    <action.icon size={16} />\n                                                </div>\n                                                <div className=\"overflow-hidden\">\n                                                    <div className=\"text-xs font-bold text-slate-700 truncate\">{action.label}</div>\n                                                    <div className=\"text-[10px] text-slate-400 truncate\">{action.full}</div>\n                                                </div>\n                                                <Plus size={14} className=\"ml-auto text-slate-300 group-hover:text-blue-500\" />\n                                            </button>\n                                        ))}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3629, "column": 0}, "map": {"version":3,"sources":["file:///Users/giorgikyn/Desktop/Chatty-Comparison/chatty-ai-web/components/interactive-hero/components/views/Document.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport {\n    MoreHorizontal,\n    PenLine,\n    Trash2,\n    Mic,\n    Plus,\n    LayoutGrid,\n    Sparkles,\n    Send,\n    Search,\n    X\n} from 'lucide-react';\nimport { BrandLogo } from '../../../BrandLogo';\n\ninterface DocumentProps {\n    isAutoplay: boolean;\n    onInteract?: () => void;\n}\n\ninterface DocMessage {\n    id: string;\n    type: 'user' | 'bot';\n    text?: string;\n    component?: React.ReactNode;\n    timestamp: string;\n}\n\n// Helper component to highlight text based on search term\nconst Highlight: React.FC<{ text: string; term: string }> = ({ text, term }) => {\n    if (!term || !term.trim()) return <>{text}</>;\n\n    // Split text by the search term (case insensitive), capturing the delimiter\n    // Using a simple split regex. Special regex chars in 'term' are not escaped here for simplicity, \n    // but in a production app you should escape them.\n    const parts = text.split(new RegExp(`(${term})`, 'gi'));\n\n    return (\n        <>\n            {parts.map((part, i) =>\n                part.toLowerCase() === term.toLowerCase() ? (\n                    <span key={i} className=\"bg-yellow-200 dark:bg-yellow-900/50 text-slate-900 dark:text-yellow-200 rounded-[2px] shadow-sm px-0.5 transition-all duration-300\">\n                        {part}\n                    </span>\n                ) : (\n                    <span key={i}>{part}</span>\n                )\n            )}\n        </>\n    );\n};\n\nexport const DocumentView: React.FC<DocumentProps> = ({ isAutoplay, onInteract }) => {\n    const [inputValue, setInputValue] = useState(\"\");\n    const [searchTerm, setSearchTerm] = useState(\"\");\n    const [isSearchActive, setIsSearchActive] = useState(false);\n\n    // Initial history matches the screenshot\n    const [history, setHistory] = useState<DocMessage[]>([]);\n    const [hasSimulated, setHasSimulated] = useState(false);\n\n    // Initial Load Simulation\n    useEffect(() => {\n        const loadInitial = setTimeout(() => {\n            setHistory([\n                {\n                    id: '1',\n                    type: 'user',\n                    text: 'summarize our company backup and restore procedure',\n                    timestamp: 'Today at 8:45 PM'\n                }\n            ]);\n\n            // Bot reply shortly after\n            setTimeout(() => {\n                setHistory(prev => [...prev, {\n                    id: '2',\n                    type: 'bot',\n                    // We render component dynamically below to pass props\n                    timestamp: 'Today at 8:45 PM'\n                }]);\n            }, 800);\n        }, 500);\n        return () => clearTimeout(loadInitial);\n    }, []);\n\n    // Autoplay Typing Simulation\n    useEffect(() => {\n        if (isAutoplay && !hasSimulated && history.length > 0) {\n            const textToType = \"Add a section about cloud recovery RTO/RPO limits.\";\n            let i = 0;\n            const typeTimer = setInterval(() => {\n                setInputValue(textToType.slice(0, i + 1));\n                i++;\n                if (i >= textToType.length) {\n                    clearInterval(typeTimer);\n                    // Send message after typing\n                    setTimeout(() => {\n                        handleSendInternal(textToType);\n                        setHasSimulated(true);\n                    }, 800);\n                }\n            }, 50);\n\n            // Delay start to allow user to see the view first\n            const startDelay = setTimeout(() => {\n                // The interval is already running, but we could gate it here if needed. \n                // Logic simplifies to just running immediately after mount/prop change for demo fluidity\n            }, 1000);\n\n            return () => { clearInterval(typeTimer); clearTimeout(startDelay); };\n        }\n    }, [isAutoplay, hasSimulated, history.length]);\n\n    const messagesEndRef = useRef<HTMLDivElement>(null);\n    const scrollContainerRef = useRef<HTMLDivElement>(null);\n    useEffect(() => {\n        if (scrollContainerRef.current) {\n            const container = scrollContainerRef.current;\n            // Scroll to the bottom of the container only, not the entire page\n            container.scrollTo({\n                top: container.scrollHeight,\n                behavior: 'smooth'\n            });\n        }\n    }, [history]);\n\n    const handleSendInternal = (text: string) => {\n        const newMsg: DocMessage = {\n            id: Date.now().toString(),\n            type: 'user',\n            text: text,\n            timestamp: 'Just now'\n        };\n\n        setHistory(prev => [...prev, newMsg]);\n        setInputValue(\"\");\n\n        // Simulate bot reply\n        setTimeout(() => {\n            setHistory(prev => [...prev, {\n                id: (Date.now() + 1).toString(),\n                type: 'bot',\n                text: \"I've updated the procedure with the standard RTO (4 hours) and RPO (1 hour) limits for cloud recovery scenarios. Would you like to review the draft?\",\n                timestamp: 'Just now'\n            }]);\n        }, 1500);\n    }\n\n    const handleSend = () => {\n        if (!inputValue.trim()) return;\n        if (onInteract) onInteract(); // Stop autoplay if user manually sends\n        handleSendInternal(inputValue);\n    };\n\n    const handleKeyDown = (e: React.KeyboardEvent) => {\n        if (e.key === 'Enter') handleSend();\n    };\n\n    return (\n        <div className=\"h-full flex flex-col bg-[var(--bg-card)] font-sans relative\" onClick={onInteract}>\n\n            {/* Header */}\n            <div className=\"h-14 border-b border-[var(--border-primary)] flex items-center justify-between px-6 shrink-0 bg-[var(--bg-card)] transition-all\">\n                <div className=\"flex items-center gap-4 flex-1 overflow-hidden\">\n                    {!isSearchActive ? (\n                        <div className=\"flex items-center gap-2 animate-fade-in whitespace-nowrap\">\n                            <h2 className=\"text-lg font-semibold text-[var(--text-primary)]\">Company procedures</h2>\n                            <span className=\"text-[var(--text-muted)] cursor-pointer hover:text-[var(--text-secondary)]\"><Plus size={16} /></span>\n                        </div>\n                    ) : (\n                        <div className=\"flex items-center gap-2 flex-1 max-w-md animate-fade-in-up\">\n                            <div className=\"relative flex-1\">\n                                <Search size={14} className=\"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-muted)]\" />\n                                <input\n                                    autoFocus\n                                    type=\"text\"\n                                    className=\"w-full bg-[var(--bg-elevated)] border border-transparent focus:bg-[var(--bg-card)] focus:border-blue-200 rounded-md py-1.5 pl-9 pr-8 text-sm outline-none transition-all text-[var(--text-primary)]\"\n                                    placeholder=\"Search in document...\"\n                                    value={searchTerm}\n                                    onChange={(e) => setSearchTerm(e.target.value)}\n                                />\n                                {searchTerm && (\n                                    <button onClick={() => setSearchTerm(\"\")} className=\"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--text-muted)] hover:text-[var(--text-secondary)]\">\n                                        <X size={12} />\n                                    </button>\n                                )}\n                            </div>\n                        </div>\n                    )}\n                </div>\n\n                <div className=\"flex items-center gap-3 text-[var(--text-muted)] shrink-0\">\n                    <button\n                        onClick={() => {\n                            setIsSearchActive(!isSearchActive);\n                            if (isSearchActive) setSearchTerm(\"\");\n                        }}\n                        className={`p-2 rounded-md transition-colors ${isSearchActive ? 'bg-blue-50 dark:bg-blue-900/30 text-blue-600' : 'hover:bg-[var(--bg-elevated)] hover:text-[var(--text-secondary)]'}`}\n                        title=\"Toggle Search\"\n                    >\n                        <Search size={18} />\n                    </button>\n                    <div className=\"h-4 w-[1px] bg-[var(--border-primary)] mx-1\"></div>\n                    <MoreHorizontal size={20} className=\"cursor-pointer hover:text-[var(--text-secondary)]\" />\n                    <div className=\"h-6 w-[80px] flex items-center justify-end\">\n                        <BrandLogo size={20} className=\"h-6 w-auto\" variant=\"hero\" />\n                    </div>\n                </div>\n            </div>\n\n            {/* Chat Area */}\n            <div ref={scrollContainerRef} className=\"flex-1 overflow-y-auto p-8 space-y-8 pb-32\">\n                {history.map((msg) => (\n                    <div key={msg.id} className=\"animate-fade-in\">\n                        {msg.type === 'user' ? (\n                            <div className=\"flex justify-end\">\n                                <div className=\"bg-[var(--bg-elevated)] border border-[var(--border-primary)] rounded-2xl rounded-tr-sm px-5 py-3 max-w-2xl shadow-sm group\">\n                                    <div className=\"text-[11px] text-[var(--text-muted)] mb-1 text-right font-medium\">{msg.timestamp}</div>\n                                    <p className=\"text-[var(--text-secondary)] text-[15px]\">\n                                        <Highlight text={msg.text || \"\"} term={searchTerm} />\n                                    </p>\n                                    <div className=\"flex justify-end gap-2 mt-2 text-[var(--text-muted)] opacity-0 group-hover:opacity-100 transition-opacity\">\n                                        <PenLine size={12} className=\"cursor-pointer hover:text-[var(--text-secondary)]\" />\n                                        <Trash2 size={12} className=\"cursor-pointer hover:text-[var(--text-secondary)]\" />\n                                    </div>\n                                </div>\n                            </div>\n                        ) : (\n                            <div className=\"flex gap-4 max-w-4xl\">\n                                <div className=\"h-8 w-8 rounded-lg bg-green-900 dark:bg-green-800 flex items-center justify-center shrink-0 mt-1 shadow-sm text-white font-bold text-xs\">\n                                    HR\n                                </div>\n                                <div className=\"flex-1 space-y-2\">\n                                    <div className=\"flex items-center gap-2\">\n                                        <span className=\"font-semibold text-sm text-[var(--text-primary)]\">Company procedures</span>\n                                        <span className=\"text-[11px] text-[var(--text-secondary)] font-bold\">{msg.timestamp}</span>\n                                    </div>\n\n                                    {/* Render Bot Response with Highlighting */}\n                                    {msg.text ? (\n                                        <div className=\"prose prose-sm max-w-none text-[var(--text-secondary)] bg-[var(--bg-card)]\">\n                                            <p><Highlight text={msg.text} term={searchTerm} /></p>\n                                        </div>\n                                    ) : (\n                                        <BotResponseContent searchTerm={searchTerm} />\n                                    )}\n                                </div>\n                            </div>\n                        )}\n                    </div>\n                ))}\n                <div ref={messagesEndRef} />\n            </div>\n\n            {/* Input Floating Box */}\n            <div className=\"absolute bottom-6 left-1/2 -translate-x-1/2 w-full max-w-3xl px-4 z-10\">\n                <div className=\"bg-[var(--bg-card)] rounded-2xl shadow-xl border border-[var(--border-primary)] p-2 flex items-center gap-2 ring-1 ring-[var(--border-primary)]/50 transition-all focus-within:ring-blue-500/20 focus-within:border-blue-300\">\n                    <button className=\"p-2 text-[var(--text-muted)] hover:bg-[var(--bg-elevated)] rounded-full transition-colors\">\n                        <Plus size={20} />\n                    </button>\n                    <button className=\"p-2 text-[var(--text-muted)] hover:bg-[var(--bg-elevated)] rounded-full transition-colors\">\n                        <LayoutGrid size={18} />\n                    </button>\n                    <div className=\"px-3 py-1 bg-[var(--bg-elevated)] rounded text-xs text-[var(--text-muted)] font-medium flex items-center gap-1 cursor-default\">\n                        <Sparkles size={12} />\n                        MS365_tool_agent_mode\n                    </div>\n                    <input\n                        type=\"text\"\n                        placeholder=\"Send a Message\"\n                        className=\"flex-1 bg-transparent border-none outline-none text-[var(--text-primary)] px-2 h-10 placeholder:text-[var(--text-disabled)]\"\n                        value={inputValue}\n                        onChange={(e) => setInputValue(e.target.value)}\n                        onKeyDown={handleKeyDown}\n                        onClick={(e) => e.stopPropagation()}\n                        onFocus={() => { if (onInteract) onInteract(); }}\n                    />\n                    <button className=\"p-2 text-[var(--text-muted)] hover:text-[var(--text-secondary)] transition-colors\">\n                        <Mic size={20} />\n                    </button>\n                    <button\n                        onClick={handleSend}\n                        className={`p-2 rounded-full transition-colors shadow-md flex items-center justify-center w-9 h-9 ${inputValue.trim() ? 'bg-[var(--accent-violet)] text-white hover:bg-[var(--violet-700)]' : 'bg-[var(--bg-surface)] text-[var(--text-disabled)]'}`}\n                    >\n                        {inputValue.trim() ? <Send size={14} className=\"ml-0.5\" /> : <div className=\"rotate-90\"><LayoutGrid size={16} /></div>}\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\n// Extracted Content Component for cleaner code\nconst BotResponseContent: React.FC<{ searchTerm?: string }> = ({ searchTerm = \"\" }) => (\n    <div className=\"prose prose-sm max-w-none text-[var(--text-secondary)]\">\n        <p className=\"mb-4\">\n            <Highlight term={searchTerm} text=\"The company's \" />\n            <span className=\"font-semibold\"><Highlight term={searchTerm} text=\"backup and restore procedure\" /></span>\n            <Highlight term={searchTerm} text=\" (Procedure ID: 901-DP) defines the standards, responsibilities, and technical processes for safeguarding organizational data across all information systems within Rothschild Caesarea Group.\" />\n        </p>\n\n        <h3 className=\"text-[16px] font-bold text-[var(--text-primary)] mb-2\"><Highlight term={searchTerm} text=\"1. Purpose and Scope\" /></h3>\n        <p className=\"mb-4\">\n            <Highlight term={searchTerm} text=\"The procedure ensures continuous data protection and the ability to recover information to its original state in case of data loss or system failure. It applies to all company systems, servers, and cloud storage environments\" />\n            <sup className=\"text-blue-600 font-medium\">^1</sup>.\n        </p>\n\n        <h3 className=\"text-[16px] font-bold text-slate-900 mb-2\"><Highlight term={searchTerm} text=\"2. Responsibilities\" /></h3>\n        <ul className=\"list-disc pl-5 space-y-2 mb-4 marker:text-[var(--text-muted)]\">\n            <li>\n                <span className=\"font-semibold\"><Highlight term={searchTerm} text=\"IT Systems Manager\" /></span>\n                <Highlight term={searchTerm} text=\" oversees the implementation, compliance, and annual review of the backup and restore procedure.\" />\n            </li>\n            <li>\n                <span className=\"font-semibold\"><Highlight term={searchTerm} text=\"Infrastructure Manager\" /></span>\n                <Highlight term={searchTerm} text=\" is responsible for managing backup hardware, executing daily backups, and testing recovery processes\" />\n                <sup className=\"text-blue-600 font-medium\">^1</sup>.\n            </li>\n        </ul>\n\n        <h3 className=\"text-[16px] font-bold text-slate-900 mb-2\"><Highlight term={searchTerm} text=\"3. Backup Structure\" /></h3>\n        <ul className=\"list-disc pl-5 space-y-2 mb-4 marker:text-[var(--text-muted)]\">\n            <li><span className=\"font-semibold\"><Highlight term={searchTerm} text=\"Full backups\" /></span><Highlight term={searchTerm} text=\" cover all company data (servers, systems, and files).\" /></li>\n            <li><span className=\"font-semibold\"><Highlight term={searchTerm} text=\"Local backups\" /></span><Highlight term={searchTerm} text=\" are stored on-premises in the company's secured infrastructure.\" /></li>\n            <li><span className=\"font-semibold\"><Highlight term={searchTerm} text=\"Cloud backups\" /></span><Highlight term={searchTerm} text=\" are stored off-site in encrypted form using the AES-256 standard; encryption keys are rotated annually.\" /></li>\n            <li>\n                <span className=\"font-semibold\"><Highlight term={searchTerm} text=\"Retention policy:\" /></span>\n                <ul className=\"list-[circle] pl-5 mt-1 space-y-1 text-[var(--text-muted)]\">\n                    <li><span className=\"font-semibold\"><Highlight term={searchTerm} text=\"Daily backups\" /></span><Highlight term={searchTerm} text=\" retained for 7 days\" /></li>\n                    <li><span className=\"font-semibold\"><Highlight term={searchTerm} text=\"Weekly backups\" /></span><Highlight term={searchTerm} text=\" retained for 21 days\" /></li>\n                    <li><span className=\"font-semibold\"><Highlight term={searchTerm} text=\"Monthly backups\" /></span><Highlight term={searchTerm} text=\" retained for 12 months\" /></li>\n                    <li><span className=\"font-semibold\"><Highlight term={searchTerm} text=\"Annual backups\" /></span><Highlight term={searchTerm} text=\" stored on physical media (tape) for 2 years\" /><sup className=\"text-blue-600 font-medium\">^2</sup>.</li>\n                </ul>\n            </li>\n        </ul>\n\n        <h3 className=\"text-[16px] font-bold text-slate-900 mb-2\"><Highlight term={searchTerm} text=\"4. Restore Procedure\" /></h3>\n        <p className=\"mb-2\">\n            <Highlight term={searchTerm} text=\"Restoration can be initiated upon approval by the \" />\n            <span className=\"font-semibold\"><Highlight term={searchTerm} text=\"Infrastructure Manager\" /></span>\n            <Highlight term={searchTerm} text=\" or \" />\n            <span className=\"font-semibold\"><Highlight term={searchTerm} text=\"IT Systems Manager\" /></span>\n            <Highlight term={searchTerm} text=\" depending on scale:\" />\n        </p>\n        <ul className=\"list-disc pl-5 space-y-1 mb-4 marker:text-slate-600\">\n            <li><span className=\"font-semibold\"><Highlight term={searchTerm} text=\"Minor restores\" /></span><Highlight term={searchTerm} text=\" (specific files/directories) handled in production as needed.\" /></li>\n            <li><span className=\"font-semibold\"><Highlight term={searchTerm} text=\"Major restores\" /></span><Highlight term={searchTerm} text=\" (servers, databases) coordinated with executive IT leadership.\" /></li>\n            <li><span className=\"font-semibold\"><Highlight term={searchTerm} text=\"System restoration priority:\" /></span><Highlight term={searchTerm} text=\" infrastructure services, mission-critical systems (Tier A), Tier B systems, and then all other systems.\" /></li>\n        </ul>\n    </div>\n);"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4928, "column": 0}, "map": {"version":3,"sources":["file:///Users/giorgikyn/Desktop/Chatty-Comparison/chatty-ai-web/components/interactive-hero/types.ts"],"sourcesContent":["export enum ViewType {\n    DASHBOARD = 'Home',\n    ANALYSIS = 'Analysis', // Internal state for Dashboard results\n    MODELING = 'Modeling',\n    WORKFLOW = 'Knowledge', // Mapping Workflow to Knowledge/Agent view for demo\n    DOCUMENT = 'API' // Mapping Document to API/Docs view\n}\n\nexport interface AppState {\n    currentView: ViewType;\n    isAutoplay: boolean;\n    searchQuery: string;\n    isTyping: boolean;\n    stepIndex: number;\n    showResults: boolean; // Toggle between empty dashboard and analysis result\n}\n\nexport interface MockDataPoint {\n    name: string;\n    revenue: number;\n    profit: number;\n    customers: number;\n    // Added for specific chart mapping if needed\n    [key: string]: string | number; \n}\n\nexport interface TableNode {\n    id: string;\n    name: string;\n    columns: string[];\n    x: number;\n    y: number;\n}\n\n\n\n\n\n\n\n\n\n"],"names":[],"mappings":";;;;AAAO,IAAA,AAAK,kCAAA;;;;;kCAKS,oCAAoC;WAL7C"}},
    {"offset": {"line": 4947, "column": 0}, "map": {"version":3,"sources":["file:///Users/giorgikyn/Desktop/Chatty-Comparison/chatty-ai-web/components/interactive-hero/components/Sidebar.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport {\n    Plus,\n    Layout,\n    Settings,\n    MoreHorizontal,\n    MessageSquare,\n    Search,\n    PenSquare,\n    AlertTriangle,\n    X\n} from 'lucide-react';\nimport { ViewType } from '../types';\n\ninterface SidebarProps {\n    currentView: ViewType;\n    onNavigate: (view: ViewType) => void;\n}\n\nexport const Sidebar: React.FC<SidebarProps> = ({ currentView, onNavigate }) => {\n    const [showConfirm, setShowConfirm] = useState(false);\n    const [pendingView, setPendingView] = useState<ViewType | null>(null);\n\n    const handleNavigation = (view: ViewType) => {\n        if (view === currentView) return;\n\n        // Mock check for unsaved changes (Assumed true for Modeling & Workflow for demo purposes)\n        const hasUnsavedChanges = currentView === ViewType.MODELING || currentView === ViewType.WORKFLOW;\n\n        if (hasUnsavedChanges) {\n            setPendingView(view);\n            setShowConfirm(true);\n        } else {\n            onNavigate(view);\n        }\n    };\n\n    const confirmNavigation = () => {\n        if (pendingView) {\n            onNavigate(pendingView);\n        }\n        setShowConfirm(false);\n        setPendingView(null);\n    };\n\n    const cancelNavigation = () => {\n        setShowConfirm(false);\n        setPendingView(null);\n    };\n\n    return (\n        <aside className=\"h-full flex flex-col text-[#ececec]\">\n            {/* Logo Area */}\n            <div className=\"px-4 py-3 mb-2 flex items-center justify-between\">\n                <div className=\"flex items-center gap-2 hover:bg-[#212121] p-2 -ml-2 rounded-lg cursor-pointer transition-colors flex-1\">\n                    <div className=\"h-6 w-6 rounded-full bg-white flex items-center justify-center shrink-0\">\n                        <span className=\"font-bold text-black text-sm\">C</span>\n                    </div>\n                    <span className=\"font-semibold text-sm tracking-tight\">Chatty AI</span>\n                </div>\n                <button\n                    onClick={() => handleNavigation(ViewType.DASHBOARD)}\n                    className=\"p-2 hover:bg-[#212121] rounded-lg text-[#ececec] transition-colors\"\n                    title=\"New Chat\"\n                >\n                    <PenSquare size={18} />\n                </button>\n            </div>\n\n            {/* Navigation / History */}\n            <div className=\"flex-1 overflow-y-auto px-2 space-y-6 scrollbar-thin scrollbar-thumb-gray-700\">\n\n                {/* Section: Today */}\n                <div>\n                    <div className=\"px-2 text-[11px] font-bold text-[#A0A0A0] mb-2 uppercase tracking-wider\">Today</div>\n                    <div className=\"space-y-1\">\n                        <button\n                            className={`w-full flex items-center gap-2 px-2 py-2 rounded-lg text-[13px] text-left transition-colors group ${currentView === ViewType.ANALYSIS || currentView === ViewType.DASHBOARD ? 'bg-[#212121] text-white' : 'text-[#ececec] hover:bg-[#212121]'}`}\n                            onClick={() => handleNavigation(ViewType.DASHBOARD)}\n                        >\n                            <span className=\"truncate flex-1\">Salary Analysis Q3</span>\n                            <MoreHorizontal size={14} className=\"opacity-0 group-hover:opacity-100 text-[#ececec]\" />\n                        </button>\n                        <button\n                            className={`w-full flex items-center gap-2 px-2 py-2 rounded-lg text-[13px] text-left transition-colors group ${currentView === ViewType.MODELING ? 'bg-[#212121] text-white' : 'text-[#ececec] hover:bg-[#212121]'}`}\n                            onClick={() => handleNavigation(ViewType.MODELING)}\n                        >\n                            <span className=\"truncate flex-1\">Schema Modeling</span>\n                        </button>\n                    </div>\n                </div>\n\n                {/* Section: Previous 7 Days */}\n                <div>\n                    <div className=\"px-2 text-[11px] font-bold text-[#A0A0A0] mb-2 uppercase tracking-wider\">Previous 7 Days</div>\n                    <div className=\"space-y-1\">\n                        <button\n                            className={`w-full flex items-center gap-2 px-2 py-2 rounded-lg text-[13px] text-left transition-colors group ${currentView === ViewType.WORKFLOW ? 'bg-[#212121] text-white' : 'text-[#ececec] hover:bg-[#212121]'}`}\n                            onClick={() => handleNavigation(ViewType.WORKFLOW)}\n                        >\n                            <span className=\"truncate flex-1\">Knowledge Agent Setup</span>\n                        </button>\n                        <button\n                            className={`w-full flex items-center gap-2 px-2 py-2 rounded-lg text-[13px] text-left transition-colors group ${currentView === ViewType.DOCUMENT ? 'bg-[#212121] text-white' : 'text-[#ececec] hover:bg-[#212121]'}`}\n                            onClick={() => handleNavigation(ViewType.DOCUMENT)}\n                        >\n                            <span className=\"truncate flex-1\">Backup Procedures Doc</span>\n                        </button>\n                        <button className=\"w-full flex items-center gap-2 px-2 py-2 rounded-lg text-[13px] text-left transition-colors text-[#ececec] hover:bg-[#212121]\">\n                            <span className=\"truncate flex-1\">SQL Optimization</span>\n                        </button>\n                        <button className=\"w-full flex items-center gap-2 px-2 py-2 rounded-lg text-[13px] text-left transition-colors text-[#ececec] hover:bg-[#212121]\">\n                            <span className=\"truncate flex-1\">User Churn Report</span>\n                        </button>\n                    </div>\n                </div>\n\n            </div>\n\n            {/* Bottom Section */}\n            <div className=\"p-2 mt-auto border-t border-[#333]\">\n                <button className=\"w-full flex items-center gap-3 px-2 py-3 rounded-lg hover:bg-[#212121] text-sm text-[#ececec] transition-colors text-left\">\n                    <div className=\"h-7 w-7 rounded-full bg-white text-black flex items-center justify-center font-bold text-xs\">U</div>\n                    <div className=\"flex-1\">\n                        <div className=\"font-medium\">User Admin</div>\n                        <div className=\"text-[10px] text-[#B0B0B0] font-bold\">Pro Plan</div>\n                    </div>\n                    <Settings size={16} className=\"text-[#999]\" />\n                </button>\n            </div>\n\n            {/* Confirmation Dialog Portal */}\n            {showConfirm && createPortal(\n                <div className=\"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black/60 backdrop-blur-[2px] animate-fade-in font-sans\">\n                    <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-[400px] overflow-hidden animate-scale-up ring-1 ring-white/10\">\n                        <div className=\"p-6\">\n                            <div className=\"flex items-start gap-4\">\n                                <div className=\"h-10 w-10 bg-amber-50 rounded-full flex items-center justify-center shrink-0\">\n                                    <AlertTriangle size={20} className=\"text-amber-600\" />\n                                </div>\n                                <div>\n                                    <h3 className=\"text-base font-semibold text-slate-900 mb-1\">Unsaved Changes</h3>\n                                    <p className=\"text-sm text-slate-500 leading-relaxed\">\n                                        You have unsaved changes in the <strong>{currentView === ViewType.MODELING ? 'Data Modeler' : 'Workflow Editor'}</strong>.\n                                        Leaving now will discard your progress.\n                                    </p>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"bg-slate-50 px-6 py-4 flex justify-end gap-3 border-t border-slate-100\">\n                            <button\n                                onClick={cancelNavigation}\n                                className=\"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 hover:bg-slate-200/50 rounded-lg transition-colors\"\n                            >\n                                Cancel\n                            </button>\n                            <button\n                                onClick={confirmNavigation}\n                                className=\"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg shadow-sm transition-colors ring-1 ring-red-700/10\"\n                            >\n                                Leave without saving\n                            </button>\n                        </div>\n                    </div>\n                </div>,\n                document.body\n            )}\n        </aside>\n    );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5398, "column": 0}, "map": {"version":3,"sources":["file:///Users/giorgikyn/Desktop/Chatty-Comparison/chatty-ai-web/components/interactive-hero/HeroInteractive.tsx"],"sourcesContent":["'use client';\n\nimport type React from 'react';\nimport { useState, useEffect, useCallback, useRef } from 'react';\nimport {\n  RotateCw,\n  CheckCircle2,\n  ChevronDown,\n  PanelLeftClose,\n  Share,\n} from 'lucide-react';\n\nimport { DashboardView } from './components/views/Dashboard';\nimport { ModelingView } from './components/views/Modeling';\nimport { WorkflowView } from './components/views/Workflow';\nimport { DocumentView } from './components/views/Document';\nimport { Sidebar } from './components/Sidebar';\nimport type { AppState } from './types';\nimport { ViewType } from './types';\nimport { BrandLogo } from '../BrandLogo';\n\n// Initial State\nconst INITIAL_STATE: AppState = {\n  currentView: ViewType.DASHBOARD,\n  isAutoplay: true,\n  searchQuery: '',\n  isTyping: false,\n  stepIndex: 0,\n  showResults: false,\n};\n\n// Script definition for the Autoplay\nconst SCRIPT_STEPS = [\n  // 0: Dashboard - Wait\n  { view: ViewType.DASHBOARD, action: 'wait', duration: 1500 },\n  // 1: Dashboard - Type Query\n  {\n    view: ViewType.DASHBOARD,\n    action: 'type',\n    text: 'What is the average salary for each position?',\n    duration: 2000,\n  },\n  // 2: Dashboard - Search Trigger (Transition to results)\n  {\n    view: ViewType.DASHBOARD,\n    action: 'navigate',\n    target: ViewType.ANALYSIS,\n    duration: 1000,\n  },\n  // 3: Analysis - View Data (Allow time for chart animation)\n  { view: ViewType.ANALYSIS, action: 'wait', duration: 4000 },\n  // 4: Analysis - Navigate to Model\n  {\n    view: ViewType.ANALYSIS,\n    action: 'navigate',\n    target: ViewType.MODELING,\n    duration: 800,\n  },\n  // 5: Modeling - Move Node (Simulated in component)\n  { view: ViewType.MODELING, action: 'wait', duration: 3000 },\n  // 6: Modeling - Navigate to Workflow (Knowledge)\n  {\n    view: ViewType.MODELING,\n    action: 'navigate',\n    target: ViewType.WORKFLOW,\n    duration: 800,\n  },\n  // 7: Workflow - Process (Simulated in component)\n  { view: ViewType.WORKFLOW, action: 'wait', duration: 3500 },\n  // 8: Workflow - Navigate to Document\n  {\n    view: ViewType.WORKFLOW,\n    action: 'navigate',\n    target: ViewType.DOCUMENT,\n    duration: 800,\n  },\n  // 9: Document - Simulate Typing/Response\n  { view: ViewType.DOCUMENT, action: 'wait', duration: 4000 },\n  // 10: End\n  { view: ViewType.DOCUMENT, action: 'finish', duration: 0 },\n];\n\nexport const HeroInteractive: React.FC = () => {\n  const [state, setState] = useState<AppState>(INITIAL_STATE);\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false); // Start closed on mobile\n  const [isModelMenuOpen, setIsModelMenuOpen] = useState(false);\n  const [motionEnabled, setMotionEnabled] = useState(false);\n  const timerRef = useRef<ReturnType<typeof setTimeout> | null>(null);\n  const modelMenuRef = useRef<HTMLDivElement>(null);\n\n  // Check motion preferences\n  useEffect(() => {\n    const mqReduce = window.matchMedia?.('(prefers-reduced-motion: reduce)');\n    const mqMobile = window.matchMedia?.('(max-width: 768px)');\n    const update = () =>\n      setMotionEnabled(!(mqReduce?.matches || mqMobile?.matches));\n    update();\n    mqReduce?.addEventListener?.('change', update);\n    mqMobile?.addEventListener?.('change', update);\n    return () => {\n      mqReduce?.removeEventListener?.('change', update);\n      mqMobile?.removeEventListener?.('change', update);\n    };\n  }, []);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (\n        modelMenuRef.current &&\n        !modelMenuRef.current.contains(event.target as Node)\n      ) {\n        setIsModelMenuOpen(false);\n      }\n    };\n\n    if (isModelMenuOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isModelMenuOpen]);\n\n  // -- Interaction Handler --\n  // Stops autoplay only if the interaction is manual (not script-driven)\n  const handleInteraction = useCallback(() => {\n    // If the event is synthetic/programmatic from script, we ignore it (logic handled in components)\n    // But here we assume any direct UI event call is manual\n    if (state.isAutoplay && state.stepIndex < SCRIPT_STEPS.length - 1) {\n      setState((prev) => ({ ...prev, isAutoplay: false, isTyping: false }));\n      if (timerRef.current) clearTimeout(timerRef.current);\n    }\n  }, [state.isAutoplay, state.stepIndex]);\n\n  // -- Navigation Handler --\n  const handleNavigate = useCallback(\n    (view: ViewType) => {\n      handleInteraction(); // Manual navigation stops autoplay\n      setState((prev) => ({\n        ...prev,\n        currentView: view,\n        showResults: view === ViewType.ANALYSIS,\n        searchQuery: view === ViewType.DASHBOARD ? '' : prev.searchQuery,\n      }));\n      setIsModelMenuOpen(false);\n    },\n    [handleInteraction]\n  );\n\n  // -- Replay Handler --\n  const handleReplay = () => {\n    if (timerRef.current) clearTimeout(timerRef.current);\n    setState({ ...INITIAL_STATE, isAutoplay: motionEnabled });\n  };\n\n  // -- Autoplay Engine --\n  useEffect(() => {\n    if (!state.isAutoplay || !motionEnabled) return;\n\n    const currentStep = SCRIPT_STEPS[state.stepIndex];\n    if (!currentStep) return;\n\n    // Handle \"Type\" action start\n    if (currentStep.action === 'type' && currentStep.text) {\n      setState((prev) => ({ ...prev, isTyping: true }));\n    }\n\n    const nextDelay = currentStep.duration;\n\n    timerRef.current = setTimeout(() => {\n      // Handle Action Completion\n      if (currentStep.action === 'type') {\n        // Finished typing, commit the query text\n        setState((prev) => ({\n          ...prev,\n          searchQuery: currentStep.text || '',\n          isTyping: false,\n        }));\n      }\n\n      if (currentStep.action === 'navigate' && currentStep.target) {\n        setState((prev) => ({\n          ...prev,\n          currentView: currentStep.target as ViewType,\n          showResults: currentStep.target === ViewType.ANALYSIS,\n        }));\n      }\n\n      if (currentStep.action === 'finish') {\n        setState((prev) => ({ ...prev, isAutoplay: false }));\n        return;\n      }\n\n      // Move to next step\n      setState((prev) => ({ ...prev, stepIndex: prev.stepIndex + 1 }));\n    }, nextDelay);\n\n    return () => {\n      if (timerRef.current) clearTimeout(timerRef.current);\n    };\n  }, [state.stepIndex, state.isAutoplay, motionEnabled]);\n\n  // -- View Renderer --\n  const renderMainContent = () => {\n    // Dashboard and Analysis share the same Chat Interface view\n    if (\n      state.currentView === ViewType.DASHBOARD ||\n      state.currentView === ViewType.ANALYSIS\n    ) {\n      return (\n        <DashboardView\n          searchQuery={state.searchQuery}\n          isTyping={state.isTyping && state.stepIndex === 1}\n          showResults={\n            state.showResults || state.currentView === ViewType.ANALYSIS\n          }\n          onSearch={(q) => {\n            // If autoplay is active, this search is programmatic, don't stop autoplay\n            if (!state.isAutoplay) {\n              handleInteraction();\n              setState((prev) => ({\n                ...prev,\n                searchQuery: q,\n                showResults: true,\n                currentView: ViewType.ANALYSIS,\n              }));\n            } else {\n              // Just update state to show results without killing autoplay\n              setState((prev) => ({ ...prev, showResults: true }));\n            }\n          }}\n          isAutoplay={state.isAutoplay}\n        />\n      );\n    }\n\n    switch (state.currentView) {\n      case ViewType.MODELING:\n        return (\n          <ModelingView\n            isAutoplay={state.isAutoplay}\n            onInteract={handleInteraction}\n          />\n        );\n      case ViewType.WORKFLOW:\n        return (\n          <WorkflowView\n            isAutoplay={state.isAutoplay}\n            onInteract={handleInteraction}\n          />\n        );\n      case ViewType.DOCUMENT:\n        return (\n          <DocumentView\n            isAutoplay={state.isAutoplay}\n            onInteract={handleInteraction}\n          />\n        );\n      default:\n        return null;\n    }\n  };\n\n  const getViewLabel = (view: ViewType) => {\n    switch (view) {\n      case ViewType.DASHBOARD:\n        return 'Chatty 4o';\n      case ViewType.ANALYSIS:\n        return 'Chatty 4o';\n      case ViewType.MODELING:\n        return 'Data Modeler';\n      case ViewType.WORKFLOW:\n        return 'Workflow Agent';\n      case ViewType.DOCUMENT:\n        return 'Docs Assistant';\n      default:\n        return 'Chatty 4o';\n    }\n  };\n\n  return (\n    <section className=\"relative min-h-[100vh] sm:min-h-screen overflow-hidden pt-20 sm:pt-24 md:pt-28\">\n      {/* Decorative Background */}\n      <div className=\"absolute inset-0 pointer-events-none z-0\">\n        <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] sm:w-[600px] md:w-[800px] h-[300px] sm:h-[450px] md:h-[600px] bg-purple-500/5 rounded-full blur-[80px] sm:blur-[100px] md:blur-[120px]\" />\n      </div>\n\n      <div className=\"relative z-10 w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-8 sm:pb-10 md:pb-12\">\n        {/* Badge */}\n        <div className=\"flex justify-center mb-6 sm:mb-8\">\n          <div className=\"inline-flex items-center gap-2.5 px-4 py-2 rounded-full bg-white/5 dark:bg-white/5 border border-white/10 dark:border-white/10 backdrop-blur-sm\">\n            <span className=\"w-2 h-2 rounded-full bg-violet-400 animate-pulse shadow-[0_0_8px_rgba(167,139,250,0.6)]\" />\n            <span className=\"text-sm font-medium text-[var(--text-secondary)]\">\n              Enterprise AI Platform\n            </span>\n          </div>\n        </div>\n\n        {/* Headline */}\n        <header className=\"text-center mb-6 sm:mb-8 max-w-4xl mx-auto px-2\">\n          <h1 className=\"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-black tracking-[-0.03em] mb-5 sm:mb-6 leading-[1.05]\">\n            <span className=\"text-[var(--text-primary)]\">Your Private </span>\n            <span className=\"bg-gradient-to-r from-violet-400 via-purple-400 to-blue-400 bg-clip-text text-transparent\">\n              Enterprise AI\n            </span>\n            <br className=\"hidden sm:block\" />\n            <span className=\"sm:hidden\"> </span>\n            <span className=\"text-[var(--text-primary)]\">Platform</span>\n          </h1>\n          <p className=\"text-xl sm:text-2xl md:text-3xl font-bold mb-5 sm:mb-6 tracking-tight\">\n            <span className=\"bg-gradient-to-r from-purple-400 to-violet-400 bg-clip-text text-transparent\">\n              Powerful.\n            </span>\n            <span className=\"mx-1.5 sm:mx-2 text-[var(--text-primary)]\">\n              Secure.\n            </span>\n            <span className=\"bg-gradient-to-r from-blue-400 to-indigo-400 bg-clip-text text-transparent\">\n              On-Premise.\n            </span>\n          </p>\n          <p className=\"text-base sm:text-lg text-[var(--text-secondary)]/90 max-w-2xl mx-auto leading-relaxed\">\n            Chatty connects to your documents, databases, internal systems, and\n            workflows. Ask questions, analyze data, and run AI agents that\n            reason, decide, and act â€” with full control and enterprise-grade\n            security.\n          </p>\n          <div className=\"inline-flex items-center gap-2 sm:gap-3 mt-3 text-[8px] min-[550px]:text-sm font-semibold tracking-[0.15em] uppercase\">\n            <span className=\"text-purple-400\">Knowledge</span>\n            <span className=\"w-1 h-1 rounded-full bg-purple-500/50\" />\n            <span className=\"text-violet-400\">Agents</span>\n            <span className=\"w-1 h-1 rounded-full bg-violet-500/50\" />\n            <span className=\"text-blue-400\">Automation</span>\n            <span className=\"w-1 h-1 rounded-full bg-blue-500/50\" />\n            <span className=\"text-[var(--text-muted)]\">One Platform</span>\n          </div>\n        </header>\n\n        {/* Product Interface - Responsive Container - Full Size */}\n        <div className=\"mb-8 sm:mb-12 md:mb-16 w-full relative z-10\">\n          <div className=\"relative mx-auto max-w-[1400px] w-full sm:px-6 lg:px-8 isolate overflow-hidden\">\n            <div className=\"w-full max-w-full overflow-x-hidden\">\n              {/* Subtle Glow Effect */}\n              <div className=\"absolute -inset-1 sm:-inset-2 md:-inset-3 bg-gradient-to-r from-purple-500/8 via-violet-500/8 to-indigo-500/8 rounded-xl sm:rounded-2xl md:rounded-3xl blur-2xl pointer-events-none\" />\n\n              {/* Main Container - Product Interface Demo - Full Size */}\n              <div\n                className=\"relative overflow-hidden rounded-lg sm:rounded-xl md:rounded-2xl border border-[var(--border-primary)] bg-[var(--bg-card)] shadow-xl w-full isolate\"\n                style={{ textAlign: 'left', contain: 'layout style paint' }}\n              >\n                {/* Header Bar - Refined */}\n                <div className=\"h-12 sm:h-14 md:h-16 bg-[var(--bg-header)] dark:bg-[#2d1f45] flex items-center justify-between px-3 sm:px-4 md:px-5 lg:px-6 w-full relative z-10 border-b border-gray-700 dark:border-white/10\">\n                  <div className=\"flex items-center gap-2 sm:gap-3 md:gap-4 flex-1 min-w-0\">\n                    <div className=\"flex items-center gap-1.5 sm:gap-2 shrink-0\">\n                      <BrandLogo\n                        size={100}\n                        className=\"h-6 sm:h-7 md:h-8 w-auto\"\n                        variant=\"hero\"\n                      />\n                    </div>\n\n                    {/* Model / View Selector - Refined */}\n                    <div className=\"relative\" ref={modelMenuRef}>\n                      <button\n                        type=\"button\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          setIsModelMenuOpen(!isModelMenuOpen);\n                          handleInteraction();\n                        }}\n                        className=\"flex items-center gap-1.5 px-2.5 sm:px-3 py-1.5 bg-transparent hover:bg-gray-700 dark:hover:bg-white/10 rounded-lg text-xs sm:text-sm font-medium text-[var(--text-primary)] dark:text-white transition-colors\"\n                      >\n                        <span className=\"whitespace-nowrap\">\n                          {getViewLabel(state.currentView)}\n                        </span>\n                        <ChevronDown\n                          size={14}\n                          className=\"text-gray-400 dark:text-gray-200 sm:w-4 sm:h-4\"\n                        />\n                      </button>\n\n                      {/* Dropdown Menu */}\n                      {isModelMenuOpen && (\n                        <div\n                          className=\"absolute top-full left-0 mt-1.5 w-[220px] bg-[var(--bg-card)] rounded-xl shadow-xl border border-[var(--border-primary)] py-1.5 px-1.5 z-50 animate-fade-in-up origin-top-left\"\n                          style={{ contain: 'layout style paint' }}\n                        >\n                          {[\n                            {\n                              id: ViewType.DASHBOARD,\n                              label: 'Chatty 4o',\n                              desc: 'Great for most tasks',\n                            },\n                            {\n                              id: ViewType.MODELING,\n                              label: 'Data Modeler',\n                              desc: 'Schema design & logic',\n                            },\n                            {\n                              id: ViewType.WORKFLOW,\n                              label: 'Workflow Agent',\n                              desc: 'Process automation',\n                            },\n                            {\n                              id: ViewType.DOCUMENT,\n                              label: 'Docs Assistant',\n                              desc: 'RAG & analysis',\n                            },\n                          ].map((item) => (\n                            <button\n                              key={item.id}\n                              type=\"button\"\n                              onClick={() => handleNavigate(item.id)}\n                              className={`w-full text-left px-2.5 py-2 rounded-lg flex items-center justify-between hover:bg-[var(--bg-elevated)] transition-colors ${\n                                state.currentView === item.id\n                                  ? 'bg-[var(--bg-elevated)]'\n                                  : ''\n                              }`}\n                            >\n                              <div>\n                                <div className=\"text-sm font-medium text-[var(--text-primary)]\">\n                                  {item.label}\n                                </div>\n                                <div className=\"text-[11px] text-[var(--text-muted)]\">\n                                  {item.desc}\n                                </div>\n                              </div>\n                              {state.currentView === item.id && (\n                                <CheckCircle2\n                                  size={14}\n                                  className=\"text-[var(--accent-violet)]\"\n                                />\n                              )}\n                            </button>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n\n                  {/* Right Actions */}\n                  <div className=\"flex items-center gap-2\">\n                    {!state.isAutoplay && (\n                      <button\n                        type=\"button\"\n                        onClick={handleReplay}\n                        className=\"p-2 text-gray-400 hover:bg-gray-700 rounded-full transition-colors\"\n                        title=\"Replay Demo\"\n                      >\n                        <RotateCw size={18} />\n                      </button>\n                    )}\n                    <button\n                      type=\"button\"\n                      className=\"p-2 text-gray-400 hover:bg-gray-700 rounded-full transition-colors\"\n                      aria-label=\"Share\"\n                    >\n                      <Share size={18} />\n                    </button>\n                  </div>\n                </div>\n\n                {/* Body - Responsive height - Full Size */}\n                <div\n                  className=\"flex overflow-hidden w-full relative isolate\"\n                  style={{\n                    minHeight: 'clamp(400px, 60vh, 700px)',\n                    maxHeight: 'clamp(600px, 85vh, 900px)',\n                    contain: 'layout style paint',\n                    isolation: 'isolate',\n                  }}\n                >\n                  {/* Sidebar - Hidden on mobile, drawer on tablet - Larger */}\n                  <div\n                    className={`${\n                      isSidebarOpen ? 'w-[240px] xl:w-[260px]' : 'w-0'\n                    } hidden lg:flex flex-col border-r border-[var(--border-primary)] bg-[var(--bg-sidebar)] shrink-0 relative z-0 overflow-hidden transition-all duration-300 ease-in-out`}\n                    style={{ willChange: 'width' }}\n                  >\n                    <Sidebar\n                      currentView={state.currentView}\n                      onNavigate={handleNavigate}\n                    />\n                  </div>\n\n                  {/* Mobile Sidebar Toggle Button */}\n                  <button\n                    type=\"button\"\n                    onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n                    className=\"lg:hidden absolute top-2 left-2 z-20 p-2 bg-[var(--bg-card)]/90 backdrop-blur-sm rounded-lg shadow-sm border border-[var(--border-primary)] hover:bg-[var(--bg-card)] transition-colors\"\n                    aria-label=\"Toggle sidebar\"\n                  >\n                    <PanelLeftClose\n                      size={18}\n                      className=\"text-[var(--text-primary)]\"\n                    />\n                  </button>\n\n                  {/* Mobile Sidebar Overlay - Larger */}\n                  {isSidebarOpen && (\n                    <>\n                      <button\n                        type=\"button\"\n                        className=\"lg:hidden fixed inset-0 bg-black/50 z-40 transition-opacity duration-300\"\n                        onClick={() => setIsSidebarOpen(false)}\n                        aria-label=\"Close sidebar\"\n                      />\n                      <div\n                        className={`lg:hidden fixed left-0 top-0 bottom-0 w-[280px] bg-[var(--bg-sidebar)] z-50 transform transition-transform duration-300 ease-in-out ${\n                          isSidebarOpen ? 'translate-x-0' : '-translate-x-full'\n                        }`}\n                      >\n                        <Sidebar\n                          currentView={state.currentView}\n                          onNavigate={(view) => {\n                            handleNavigate(view);\n                            setIsSidebarOpen(false);\n                          }}\n                        />\n                      </div>\n                    </>\n                  )}\n\n                  {/* Main Content */}\n                  <div\n                    className=\"flex-1 flex flex-col bg-[var(--bg-card)] min-w-0 w-full relative z-0 overflow-hidden\"\n                    style={{ contain: 'layout style' }}\n                  >\n                    {renderMainContent()}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n"],"names":[],"mappings":"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"}}]
}